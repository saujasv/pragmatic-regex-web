import{S as Pe,i as Se,s as Le,k as h,q as j,a as N,w as Re,l as d,m as b,r as B,h as f,c as U,x as De,n as r,b as Q,G as l,R as Ne,y as Ve,I as C,u as me,f as $e,t as He,T as Ce,z as qe,L as Ge,H as Xe,o as Ye,e as Ue,Q as ze,B as Je}from"../../../../chunks/index-8c8999cc.js";import{g as de}from"../../../../chunks/navigation-8ff8a9af.js";import{u as Qe}from"../../../../chunks/store-5a2d893e.js";import{d as pe}from"../../../../chunks/singletons-5cc1f033.js";import{S as Fe,t as je}from"../../../../chunks/SvelteToast-1a379818.js";function Be(a,e,s){const n=a.slice();return n[18]=e[s],n}function Ke(a){let e,s=a[18].string+"",n,t,o,i,p;function _(){return a[12](a[18])}return{c(){e=h("li"),n=j(s),t=h("button"),o=h("i"),this.h()},l(u){e=d(u,"LI",{class:!0});var g=b(e);n=B(g,s),t=d(g,"BUTTON",{class:!0});var T=b(t);o=d(T,"I",{class:!0}),b(o).forEach(f),T.forEach(f),g.forEach(f),this.h()},h(){r(o,"class","fa fa-times"),r(t,"class","btn btn-default btn-sm float-end"),r(e,"class","list-group-item list-group-item-danger")},m(u,g){Q(u,e,g),l(e,n),l(e,t),l(t,o),i||(p=C(t,"click",_),i=!0)},p(u,g){a=u,g&8&&s!==(s=a[18].string+"")&&me(n,s)},d(u){u&&f(e),i=!1,p()}}}function We(a){let e,s=a[18].string+"",n,t,o,i,p;function _(){return a[11](a[18])}return{c(){e=h("li"),n=j(s),t=h("button"),o=h("i"),this.h()},l(u){e=d(u,"LI",{class:!0});var g=b(e);n=B(g,s),t=d(g,"BUTTON",{class:!0});var T=b(t);o=d(T,"I",{class:!0}),b(o).forEach(f),T.forEach(f),g.forEach(f),this.h()},h(){r(o,"class","fa fa-times"),r(t,"class","btn btn-default btn-sm float-end"),r(e,"class","list-group-item list-group-item-primary")},m(u,g){Q(u,e,g),l(e,n),l(e,t),l(t,o),i||(p=C(t,"click",_),i=!0)},p(u,g){a=u,g&8&&s!==(s=a[18].string+"")&&me(n,s)},d(u){u&&f(e),i=!1,p()}}}function Me(a){let e;function s(o,i){if(o[18].label=="+")return We;if(o[18].label=="-")return Ke}let n=s(a),t=n&&n(a);return{c(){t&&t.c(),e=Ue()},l(o){t&&t.l(o),e=Ue()},m(o,i){t&&t.m(o,i),Q(o,e,i)},p(o,i){n===(n=s(o))&&t?t.p(o,i):(t&&t.d(1),t=n&&n(o),t&&(t.c(),t.m(e.parentNode,e)))},d(o){t&&t.d(o),o&&f(e)}}}function Ze(a){let e,s,n,t,o,i,p,_,u,g,T,S,F,M,E,L,K,W,P,te,c,R,O,w,G,v,Z,V,ae,se,X,D,oe,re,Y,$,ne,z,H,ie,ce,q,x,ue,_e,J=a[3],I=[];for(let m=0;m<J.length;m+=1)I[m]=Me(Be(a,J,m));return q=new Fe({}),{c(){e=h("div"),s=h("p"),n=j("Here, you are presented with a regular expression. You need to provide a set of examples that "),t=h("em"),o=j("describes"),i=j(" this regular expression to another person. In the context of this task, a good description is a set of examples that you might provide if you were asking for help on a forum such as StackOverflow. A good set of examples will allow a helpful person to easily identify the program you intend (here, the program that you are given) without knowing the program beforehand."),p=N(),_=h("div"),u=h("h2"),g=j("Regex: "),T=h("tt"),S=j(a[0]),F=N(),M=h("div"),E=h("div"),L=h("span"),K=j("Enter example"),W=N(),P=h("input"),te=N(),c=h("input"),R=N(),O=h("label"),w=j("+"),G=N(),v=h("input"),Z=N(),V=h("label"),ae=j("-"),se=N(),X=h("div"),D=h("button"),oe=j("Add"),re=N(),Y=h("div"),$=h("ul");for(let m=0;m<I.length;m+=1)I[m].c();ne=N(),z=h("div"),H=h("button"),ie=j("Submit"),ce=N(),Re(q.$$.fragment),this.h()},l(m){e=d(m,"DIV",{class:!0});var y=b(e);s=d(y,"P",{});var k=b(s);n=B(k,"Here, you are presented with a regular expression. You need to provide a set of examples that "),t=d(k,"EM",{});var ee=b(t);o=B(ee,"describes"),ee.forEach(f),i=B(k," this regular expression to another person. In the context of this task, a good description is a set of examples that you might provide if you were asking for help on a forum such as StackOverflow. A good set of examples will allow a helpful person to easily identify the program you intend (here, the program that you are given) without knowing the program beforehand."),k.forEach(f),p=U(y),_=d(y,"DIV",{class:!0});var ge=b(_);u=d(ge,"H2",{});var fe=b(u);g=B(fe,"Regex: "),T=d(fe,"TT",{});var be=b(T);S=B(be,a[0]),be.forEach(f),fe.forEach(f),ge.forEach(f),F=U(y),M=d(y,"DIV",{class:!0});var le=b(M);E=d(le,"DIV",{class:!0});var A=b(E);L=d(A,"SPAN",{class:!0});var ve=b(L);K=B(ve,"Enter example"),ve.forEach(f),W=U(A),P=d(A,"INPUT",{type:!0,class:!0}),te=U(A),c=d(A,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),R=U(A),O=d(A,"LABEL",{class:!0,for:!0});var ye=b(O);w=B(ye,"+"),ye.forEach(f),G=U(A),v=d(A,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),Z=U(A),V=d(A,"LABEL",{class:!0,for:!0});var ke=b(V);ae=B(ke,"-"),ke.forEach(f),A.forEach(f),se=U(le),X=d(le,"DIV",{class:!0});var Ee=b(X);D=d(Ee,"BUTTON",{type:!0,class:!0});var we=b(D);oe=B(we,"Add"),we.forEach(f),Ee.forEach(f),le.forEach(f),re=U(y),Y=d(y,"DIV",{class:!0});var Ie=b(Y);$=d(Ie,"UL",{class:!0});var Oe=b($);for(let he=0;he<I.length;he+=1)I[he].l(Oe);Oe.forEach(f),Ie.forEach(f),ne=U(y),z=d(y,"DIV",{class:!0});var Te=b(z);H=d(Te,"BUTTON",{class:!0});var Ae=b(H);ie=B(Ae,"Submit"),Ae.forEach(f),Te.forEach(f),ce=U(y),De(q.$$.fragment,y),y.forEach(f),this.h()},h(){r(_,"class","col-lg-10 py-md-3"),r(L,"class","input-group-text"),r(P,"type","text"),r(P,"class","form-control"),r(c,"type","radio"),r(c,"class","btn-check"),r(c,"name","utterance-type"),c.__value="+",c.value=c.__value,r(c,"id","positive"),r(c,"autocomplete","off"),a[9][0].push(c),r(O,"class","btn btn-outline-primary"),r(O,"for","positive"),r(v,"type","radio"),r(v,"class","btn-check"),r(v,"name","utterance-type"),v.__value="-",v.value=v.__value,r(v,"id","negative"),r(v,"autocomplete","off"),a[9][0].push(v),r(V,"class","btn btn-outline-danger"),r(V,"for","negative"),r(E,"class","input-group col"),r(D,"type","submit"),r(D,"class","btn btn-primary col-auto"),r(X,"class","col"),r(M,"class","row gx-1"),r($,"class","list-group"),r(Y,"class","col-lg-6 py-md-5"),r(H,"class","btn btn-success btn-lg float-end"),r(z,"class","col-lg-6 py-md-5"),r(e,"class","col-lg-10 mx-auto p-3 py-md-5")},m(m,y){Q(m,e,y),l(e,s),l(s,n),l(s,t),l(t,o),l(s,i),l(e,p),l(e,_),l(_,u),l(u,g),l(u,T),l(T,S),l(e,F),l(e,M),l(M,E),l(E,L),l(L,K),l(E,W),l(E,P),Ne(P,a[1]),l(E,te),l(E,c),c.checked=c.__value===a[2],l(E,R),l(E,O),l(O,w),l(E,G),l(E,v),v.checked=v.__value===a[2],l(E,Z),l(E,V),l(V,ae),l(M,se),l(M,X),l(X,D),l(D,oe),l(e,re),l(e,Y),l(Y,$);for(let k=0;k<I.length;k+=1)I[k].m($,null);l(e,ne),l(e,z),l(z,H),l(H,ie),l(e,ce),Ve(q,e,null),x=!0,ue||(_e=[C(P,"input",a[7]),C(c,"change",a[8]),C(v,"change",a[10]),C(D,"click",a[4]),C(H,"click",a[6])],ue=!0)},p(m,[y]){if((!x||y&1)&&me(S,m[0]),y&2&&P.value!==m[1]&&Ne(P,m[1]),y&4&&(c.checked=c.__value===m[2]),y&4&&(v.checked=v.__value===m[2]),y&40){J=m[3];let k;for(k=0;k<J.length;k+=1){const ee=Be(m,J,k);I[k]?I[k].p(ee,y):(I[k]=Me(ee),I[k].c(),I[k].m($,null))}for(;k<I.length;k+=1)I[k].d(1);I.length=J.length}},i(m){x||($e(q.$$.fragment,m),x=!0)},o(m){He(q.$$.fragment,m),x=!1},d(m){m&&f(e),a[9][0].splice(a[9][0].indexOf(c),1),a[9][0].splice(a[9][0].indexOf(v),1),Ce(I,m),qe(q),ue=!1,Ge(_e)}}}let xe=1,et=3;function tt(a,e){return a=Math.ceil(a),e=Math.floor(e),Math.floor(Math.random()*(e-a)+a)}function lt(a,e,s){let n;Xe(a,Qe,c=>s(16,n=c));let t=[],o="",i="",p="",_=null,u=[],g=0;function T(){if(t=[...t,{string:p,label:_,id:g}],p.length>0)if(_=="+"&&p.match(`^${o}$`))s(3,u=[...u,{string:p,label:_,id:g}]),s(1,p=""),s(2,_=null),g+=1;else if(_=="-"&&!p.match(`^${o}$`))s(3,u=[...u,{string:p,label:_,id:g}]),s(1,p=""),s(2,_=null),g+=1;else{je.push("Label not provided",{theme:{"--toastBarHeight":0,"--toastBackground":"red"}});return}else{je.push("Please enter a valid string",{theme:{"--toastBarHeight":0,"--toastBackground":"red"}});return}}function S(c){s(3,u=u.filter(R=>R.id!=c))}async function F(){console.log(i),await fetch(`https://try-regex-default-rtdb.firebaseio.com/heldout-describe-pilot/${i}/descriptions/${n}.json`,{method:"PUT",body:JSON.stringify(u)}),s(3,u=[]),await M().then(c=>{})}async function M(){n.length==0&&de(`${pe}/annotate/login`);let c=await fetch("https://try-regex-default-rtdb.firebaseio.com/heldout-describe-pilot.json").then(Z=>Z.json()),R=new Object,O=new Object;for(var w in c)c[w].hasOwnProperty("descriptions")?(c[w].descriptions.hasOwnProperty(n)&&(R[w]=c[w]),Object.keys(c[w].descriptions).length<xe&&(O[w]=c[w])):O[w]=c[w];Object.keys(R).length>et&&de(`${pe}/annotate/finish`),Object.keys(O).length==0&&de(`${pe}/annotate/finish`);let G=tt(0,Object.keys(O).length);console.log(G);let v=0;for(var w in O){if(v==G){i=w,s(0,o=O[w].program),console.log(w,O[w]),console.log(i,o);return}v+=1}}Ye(M);const E=[[]];function L(){p=this.value,s(1,p)}function K(){_=this.__value,s(2,_)}function W(){_=this.__value,s(2,_)}return[o,p,_,u,T,S,F,L,K,E,W,c=>S(c.id),c=>S(c.id)]}class at extends Pe{constructor(e){super(),Se(this,e,lt,Ze,Le,{})}}function st(a){let e,s,n,t,o;return t=new at({}),{c(){e=h("meta"),s=N(),n=h("main"),Re(t.$$.fragment),this.h()},l(i){const p=ze("svelte-jy85c7",document.head);e=d(p,"META",{name:!0,content:!0}),p.forEach(f),s=U(i),n=d(i,"MAIN",{});var _=b(n);De(t.$$.fragment,_),_.forEach(f),this.h()},h(){document.title="Regex from Examples",r(e,"name","description"),r(e,"content","Collect examples of examples used to communicate about regexes")},m(i,p){l(document.head,e),Q(i,s,p),Q(i,n,p),Ve(t,n,null),o=!0},p:Je,i(i){o||($e(t.$$.fragment,i),o=!0)},o(i){He(t.$$.fragment,i),o=!1},d(i){f(e),i&&f(s),i&&f(n),qe(t)}}}class ut extends Pe{constructor(e){super(),Se(this,e,null,st,Le,{})}}export{ut as default};
