import{S as ye,i as ke,s as Ie,k as _,q as D,a as A,l as p,m as g,r as M,h as u,c as L,n as i,b as G,G as r,J as me,K as S,u as ae,B as se,L as Te,M as Ne,H as Ue,o as we,e as be,w as Ae,I as Le,x as Be,y as De,f as Me,t as Oe,z as Ve}from"../../../../chunks/index-8cf49659.js";import{g as ge}from"../../../../chunks/navigation-30c8db63.js";import{u as je}from"../../../../chunks/store-5d6b215d.js";function ve(a,e,l){const o=a.slice();return o[18]=e[l],o}function Pe(a){let e,l=a[18].string+"",o,t,n,c,d;function f(){return a[12](a[18])}return{c(){e=_("li"),o=D(l),t=_("button"),n=_("i"),this.h()},l(s){e=p(s,"LI",{class:!0});var h=g(e);o=M(h,l),t=p(h,"BUTTON",{class:!0});var N=g(t);n=p(N,"I",{class:!0}),g(n).forEach(u),N.forEach(u),h.forEach(u),this.h()},h(){i(n,"class","fa fa-times"),i(t,"class","btn btn-default btn-sm float-end"),i(e,"class","list-group-item list-group-item-danger")},m(s,h){G(s,e,h),r(e,o),r(e,t),r(t,n),c||(d=S(t,"click",f),c=!0)},p(s,h){a=s,h&8&&l!==(l=a[18].string+"")&&ae(o,l)},d(s){s&&u(e),c=!1,d()}}}function Se(a){let e,l=a[18].string+"",o,t,n,c,d;function f(){return a[11](a[18])}return{c(){e=_("li"),o=D(l),t=_("button"),n=_("i"),this.h()},l(s){e=p(s,"LI",{class:!0});var h=g(e);o=M(h,l),t=p(h,"BUTTON",{class:!0});var N=g(t);n=p(N,"I",{class:!0}),g(n).forEach(u),N.forEach(u),h.forEach(u),this.h()},h(){i(n,"class","fa fa-times"),i(t,"class","btn btn-default btn-sm float-end"),i(e,"class","list-group-item list-group-item-success")},m(s,h){G(s,e,h),r(e,o),r(e,t),r(t,n),c||(d=S(t,"click",f),c=!0)},p(s,h){a=s,h&8&&l!==(l=a[18].string+"")&&ae(o,l)},d(s){s&&u(e),c=!1,d()}}}function Ee(a){let e;function l(n,c){if(n[18].label=="+")return Se;if(n[18].label=="-")return Pe}let o=l(a),t=o&&o(a);return{c(){t&&t.c(),e=be()},l(n){t&&t.l(n),e=be()},m(n,c){t&&t.m(n,c),G(n,e,c)},p(n,c){o===(o=l(n))&&t?t.p(n,c):(t&&t.d(1),t=o&&o(n),t&&(t.c(),t.m(e.parentNode,e)))},d(n){t&&t.d(n),n&&u(e)}}}function Re(a){let e,l,o,t,n,c,d,f,s,h,N,V,U,R,v,K,B,X,F,E,m,w,W,Y,q,O,Z,x,C,j,$,H,P,ee,te,ne,J=a[3],I=[];for(let b=0;b<J.length;b+=1)I[b]=Ee(ve(a,J,b));return{c(){e=_("div"),l=_("div"),o=_("h2"),t=D("Regex: "),n=_("tt"),c=D(a[0]),d=A(),f=_("div"),s=_("div"),h=_("span"),N=D("Enter example"),V=A(),U=_("input"),R=A(),v=_("input"),K=A(),B=_("label"),X=D("+"),F=A(),E=_("input"),m=A(),w=_("label"),W=D("-"),Y=A(),q=_("div"),O=_("button"),Z=D("Add"),x=A(),C=_("div"),j=_("ul");for(let b=0;b<I.length;b+=1)I[b].c();$=A(),H=_("div"),P=_("button"),ee=D("Submit"),this.h()},l(b){e=p(b,"DIV",{class:!0});var k=g(e);l=p(k,"DIV",{class:!0});var y=g(l);o=p(y,"H2",{});var z=g(o);t=M(z,"Regex: "),n=p(z,"TT",{});var re=g(n);c=M(re,a[0]),re.forEach(u),z.forEach(u),y.forEach(u),d=L(k),f=p(k,"DIV",{class:!0});var Q=g(f);s=p(Q,"DIV",{class:!0});var T=g(s);h=p(T,"SPAN",{class:!0});var oe=g(h);N=M(oe,"Enter example"),oe.forEach(u),V=L(T),U=p(T,"INPUT",{type:!0,class:!0}),R=L(T),v=p(T,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),K=L(T),B=p(T,"LABEL",{class:!0,for:!0});var ce=g(B);X=M(ce,"+"),ce.forEach(u),F=L(T),E=p(T,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),m=L(T),w=p(T,"LABEL",{class:!0,for:!0});var ie=g(w);W=M(ie,"-"),ie.forEach(u),T.forEach(u),Y=L(Q),q=p(Q,"DIV",{class:!0});var ue=g(q);O=p(ue,"BUTTON",{type:!0,class:!0});var fe=g(O);Z=M(fe,"Add"),fe.forEach(u),ue.forEach(u),Q.forEach(u),x=L(k),C=p(k,"DIV",{class:!0});var he=g(C);j=p(he,"UL",{class:!0});var de=g(j);for(let le=0;le<I.length;le+=1)I[le].l(de);de.forEach(u),he.forEach(u),$=L(k),H=p(k,"DIV",{class:!0});var _e=g(H);P=p(_e,"BUTTON",{class:!0});var pe=g(P);ee=M(pe,"Submit"),pe.forEach(u),_e.forEach(u),k.forEach(u),this.h()},h(){i(l,"class","col-lg-10 py-md-3"),i(h,"class","input-group-text"),i(U,"type","text"),i(U,"class","form-control"),i(v,"type","radio"),i(v,"class","btn-check"),i(v,"name","utterance-type"),v.__value="+",v.value=v.__value,i(v,"id","positive"),i(v,"autocomplete","off"),a[9][0].push(v),i(B,"class","btn btn-outline-success"),i(B,"for","positive"),i(E,"type","radio"),i(E,"class","btn-check"),i(E,"name","utterance-type"),E.__value="-",E.value=E.__value,i(E,"id","negative"),i(E,"autocomplete","off"),a[9][0].push(E),i(w,"class","btn btn-outline-danger"),i(w,"for","negative"),i(s,"class","input-group col"),i(O,"type","submit"),i(O,"class","btn btn-primary col-auto"),i(q,"class","col"),i(f,"class","row gx-1"),i(j,"class","list-group"),i(C,"class","col-lg-6 py-md-5"),i(P,"class","btn btn-success btn-lg float-end"),i(H,"class","col-lg-6 py-md-5"),i(e,"class","col-lg-10 mx-auto p-3 py-md-5")},m(b,k){G(b,e,k),r(e,l),r(l,o),r(o,t),r(o,n),r(n,c),r(e,d),r(e,f),r(f,s),r(s,h),r(h,N),r(s,V),r(s,U),me(U,a[1]),r(s,R),r(s,v),v.checked=v.__value===a[2],r(s,K),r(s,B),r(B,X),r(s,F),r(s,E),E.checked=E.__value===a[2],r(s,m),r(s,w),r(w,W),r(f,Y),r(f,q),r(q,O),r(O,Z),r(e,x),r(e,C),r(C,j);for(let y=0;y<I.length;y+=1)I[y].m(j,null);r(e,$),r(e,H),r(H,P),r(P,ee),te||(ne=[S(U,"input",a[7]),S(v,"change",a[8]),S(E,"change",a[10]),S(O,"click",a[4]),S(P,"click",a[6])],te=!0)},p(b,[k]){if(k&1&&ae(c,b[0]),k&2&&U.value!==b[1]&&me(U,b[1]),k&4&&(v.checked=v.__value===b[2]),k&4&&(E.checked=E.__value===b[2]),k&40){J=b[3];let y;for(y=0;y<J.length;y+=1){const z=ve(b,J,y);I[y]?I[y].p(z,k):(I[y]=Ee(z),I[y].c(),I[y].m(j,null))}for(;y<I.length;y+=1)I[y].d(1);I.length=J.length}},i:se,o:se,d(b){b&&u(e),a[9][0].splice(a[9][0].indexOf(v),1),a[9][0].splice(a[9][0].indexOf(E),1),Te(I,b),te=!1,Ne(ne)}}}let qe=2;function Ce(a,e,l){let o;Ue(a,je,m=>l(16,o=m));let t=0,n=[],c="",d="",f=null,s=[],h=0;function N(){n=[...n,{string:d,label:f,id:h}],d.length>0&&(f=="+"&&d.match(`^${c}$`)?(l(3,s=[...s,{string:d,label:f,id:h}]),l(1,d=""),l(2,f=null),h+=1):f=="-"&&!d.match(`^${c}$`)&&(l(3,s=[...s,{string:d,label:f,id:h}]),l(1,d=""),l(2,f=null),h+=1))}function V(m){l(3,s=s.filter(w=>w.id!=m))}async function U(){await fetch(`https://try-regex-default-rtdb.firebaseio.com/collect/${o}.json`,{method:"PUT",body:JSON.stringify({[`round-${t}`]:s})}),l(3,s=[]),await R().then(m=>{})}async function R(){o.length==0&&ge("/pragmatic-regex-web/annotate/login"),await fetch(`https://try-regex-default-rtdb.firebaseio.com/collect/${o}.json`).then(m=>m.json()).then(m=>{t=m.length,t>qe&&ge("/pragmatic-regex-web/annotate/nl")}).catch(m=>(console.log(m),[])),await fetch("https://try-regex-default-rtdb.firebaseio.com/programs.json").then(m=>m.json()).then(m=>{let w=m.length;l(0,c=m[Math.floor(Math.random()*(w-1))])}).catch(m=>(console.log(m),[]))}we(R);const v=[[]];function K(){d=this.value,l(1,d)}function B(){f=this.__value,l(2,f)}function X(){f=this.__value,l(2,f)}return[c,d,f,s,N,V,U,K,B,v,X,m=>V(m.id),m=>V(m.id)]}class He extends ye{constructor(e){super(),ke(this,e,Ce,Re,Ie,{})}}function Je(a){let e,l,o,t,n;return t=new He({}),{c(){e=_("meta"),l=A(),o=_("main"),Ae(t.$$.fragment),this.h()},l(c){const d=Le("svelte-jy85c7",document.head);e=p(d,"META",{name:!0,content:!0}),d.forEach(u),l=L(c),o=p(c,"MAIN",{});var f=g(o);Be(t.$$.fragment,f),f.forEach(u),this.h()},h(){document.title="Regex from Examples",i(e,"name","description"),i(e,"content","Collect examples of examples used to communicate about regexes")},m(c,d){r(document.head,e),G(c,l,d),G(c,o,d),De(t,o,null),n=!0},p:se,i(c){n||(Me(t.$$.fragment,c),n=!0)},o(c){Oe(t.$$.fragment,c),n=!1},d(c){u(e),c&&u(l),c&&u(o),Ve(t)}}}class Xe extends ye{constructor(e){super(),ke(this,e,null,Je,Ie,{})}}export{Xe as default};
