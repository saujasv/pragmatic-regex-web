import{S as ke,i as Ie,s as Te,k as _,q as D,a as L,l as m,m as g,r as M,h as u,c as w,n as i,b as G,G as r,J as pe,K as S,u as ne,B as se,L as Ne,M as Ue,H as Ae,o as Le,e as be,w as we,I as Be,x as De,y as Me,f as Oe,t as Ve,z as je}from"../../../../chunks/index-8cf49659.js";import{g as ge}from"../../../../chunks/navigation-a2e8446c.js";import{u as Pe}from"../../../../chunks/store-5d6b215d.js";import{d as ve}from"../../../../chunks/singletons-47202174.js";function Ee(n,e,l){const o=n.slice();return o[18]=e[l],o}function Se(n){let e,l=n[18].string+"",o,t,a,c,h;function f(){return n[12](n[18])}return{c(){e=_("li"),o=D(l),t=_("button"),a=_("i"),this.h()},l(s){e=m(s,"LI",{class:!0});var d=g(e);o=M(d,l),t=m(d,"BUTTON",{class:!0});var N=g(t);a=m(N,"I",{class:!0}),g(a).forEach(u),N.forEach(u),d.forEach(u),this.h()},h(){i(a,"class","fa fa-times"),i(t,"class","btn btn-default btn-sm float-end"),i(e,"class","list-group-item list-group-item-danger")},m(s,d){G(s,e,d),r(e,o),r(e,t),r(t,a),c||(h=S(t,"click",f),c=!0)},p(s,d){n=s,d&8&&l!==(l=n[18].string+"")&&ne(o,l)},d(s){s&&u(e),c=!1,h()}}}function Re(n){let e,l=n[18].string+"",o,t,a,c,h;function f(){return n[11](n[18])}return{c(){e=_("li"),o=D(l),t=_("button"),a=_("i"),this.h()},l(s){e=m(s,"LI",{class:!0});var d=g(e);o=M(d,l),t=m(d,"BUTTON",{class:!0});var N=g(t);a=m(N,"I",{class:!0}),g(a).forEach(u),N.forEach(u),d.forEach(u),this.h()},h(){i(a,"class","fa fa-times"),i(t,"class","btn btn-default btn-sm float-end"),i(e,"class","list-group-item list-group-item-success")},m(s,d){G(s,e,d),r(e,o),r(e,t),r(t,a),c||(h=S(t,"click",f),c=!0)},p(s,d){n=s,d&8&&l!==(l=n[18].string+"")&&ne(o,l)},d(s){s&&u(e),c=!1,h()}}}function ye(n){let e;function l(a,c){if(a[18].label=="+")return Re;if(a[18].label=="-")return Se}let o=l(n),t=o&&o(n);return{c(){t&&t.c(),e=be()},l(a){t&&t.l(a),e=be()},m(a,c){t&&t.m(a,c),G(a,e,c)},p(a,c){o===(o=l(a))&&t?t.p(a,c):(t&&t.d(1),t=o&&o(a),t&&(t.c(),t.m(e.parentNode,e)))},d(a){t&&t.d(a),a&&u(e)}}}function qe(n){let e,l,o,t,a,c,h,f,s,d,N,V,U,R,v,K,B,X,F,E,p,A,W,Y,q,O,Z,$,C,j,x,H,P,ee,te,ae,J=n[3],I=[];for(let b=0;b<J.length;b+=1)I[b]=ye(Ee(n,J,b));return{c(){e=_("div"),l=_("div"),o=_("h2"),t=D("Regex: "),a=_("tt"),c=D(n[0]),h=L(),f=_("div"),s=_("div"),d=_("span"),N=D("Enter example"),V=L(),U=_("input"),R=L(),v=_("input"),K=L(),B=_("label"),X=D("+"),F=L(),E=_("input"),p=L(),A=_("label"),W=D("-"),Y=L(),q=_("div"),O=_("button"),Z=D("Add"),$=L(),C=_("div"),j=_("ul");for(let b=0;b<I.length;b+=1)I[b].c();x=L(),H=_("div"),P=_("button"),ee=D("Submit"),this.h()},l(b){e=m(b,"DIV",{class:!0});var k=g(e);l=m(k,"DIV",{class:!0});var y=g(l);o=m(y,"H2",{});var z=g(o);t=M(z,"Regex: "),a=m(z,"TT",{});var re=g(a);c=M(re,n[0]),re.forEach(u),z.forEach(u),y.forEach(u),h=w(k),f=m(k,"DIV",{class:!0});var Q=g(f);s=m(Q,"DIV",{class:!0});var T=g(s);d=m(T,"SPAN",{class:!0});var oe=g(d);N=M(oe,"Enter example"),oe.forEach(u),V=w(T),U=m(T,"INPUT",{type:!0,class:!0}),R=w(T),v=m(T,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),K=w(T),B=m(T,"LABEL",{class:!0,for:!0});var ce=g(B);X=M(ce,"+"),ce.forEach(u),F=w(T),E=m(T,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),p=w(T),A=m(T,"LABEL",{class:!0,for:!0});var ie=g(A);W=M(ie,"-"),ie.forEach(u),T.forEach(u),Y=w(Q),q=m(Q,"DIV",{class:!0});var ue=g(q);O=m(ue,"BUTTON",{type:!0,class:!0});var fe=g(O);Z=M(fe,"Add"),fe.forEach(u),ue.forEach(u),Q.forEach(u),$=w(k),C=m(k,"DIV",{class:!0});var de=g(C);j=m(de,"UL",{class:!0});var he=g(j);for(let le=0;le<I.length;le+=1)I[le].l(he);he.forEach(u),de.forEach(u),x=w(k),H=m(k,"DIV",{class:!0});var _e=g(H);P=m(_e,"BUTTON",{class:!0});var me=g(P);ee=M(me,"Submit"),me.forEach(u),_e.forEach(u),k.forEach(u),this.h()},h(){i(l,"class","col-lg-10 py-md-3"),i(d,"class","input-group-text"),i(U,"type","text"),i(U,"class","form-control"),i(v,"type","radio"),i(v,"class","btn-check"),i(v,"name","utterance-type"),v.__value="+",v.value=v.__value,i(v,"id","positive"),i(v,"autocomplete","off"),n[9][0].push(v),i(B,"class","btn btn-outline-success"),i(B,"for","positive"),i(E,"type","radio"),i(E,"class","btn-check"),i(E,"name","utterance-type"),E.__value="-",E.value=E.__value,i(E,"id","negative"),i(E,"autocomplete","off"),n[9][0].push(E),i(A,"class","btn btn-outline-danger"),i(A,"for","negative"),i(s,"class","input-group col"),i(O,"type","submit"),i(O,"class","btn btn-primary col-auto"),i(q,"class","col"),i(f,"class","row gx-1"),i(j,"class","list-group"),i(C,"class","col-lg-6 py-md-5"),i(P,"class","btn btn-success btn-lg float-end"),i(H,"class","col-lg-6 py-md-5"),i(e,"class","col-lg-10 mx-auto p-3 py-md-5")},m(b,k){G(b,e,k),r(e,l),r(l,o),r(o,t),r(o,a),r(a,c),r(e,h),r(e,f),r(f,s),r(s,d),r(d,N),r(s,V),r(s,U),pe(U,n[1]),r(s,R),r(s,v),v.checked=v.__value===n[2],r(s,K),r(s,B),r(B,X),r(s,F),r(s,E),E.checked=E.__value===n[2],r(s,p),r(s,A),r(A,W),r(f,Y),r(f,q),r(q,O),r(O,Z),r(e,$),r(e,C),r(C,j);for(let y=0;y<I.length;y+=1)I[y].m(j,null);r(e,x),r(e,H),r(H,P),r(P,ee),te||(ae=[S(U,"input",n[7]),S(v,"change",n[8]),S(E,"change",n[10]),S(O,"click",n[4]),S(P,"click",n[6])],te=!0)},p(b,[k]){if(k&1&&ne(c,b[0]),k&2&&U.value!==b[1]&&pe(U,b[1]),k&4&&(v.checked=v.__value===b[2]),k&4&&(E.checked=E.__value===b[2]),k&40){J=b[3];let y;for(y=0;y<J.length;y+=1){const z=Ee(b,J,y);I[y]?I[y].p(z,k):(I[y]=ye(z),I[y].c(),I[y].m(j,null))}for(;y<I.length;y+=1)I[y].d(1);I.length=J.length}},i:se,o:se,d(b){b&&u(e),n[9][0].splice(n[9][0].indexOf(v),1),n[9][0].splice(n[9][0].indexOf(E),1),Ne(I,b),te=!1,Ue(ae)}}}let Ce=2;function He(n,e,l){let o;Ae(n,Pe,p=>l(16,o=p));let t=0,a=[],c="",h="",f=null,s=[],d=0;function N(){a=[...a,{string:h,label:f,id:d}],h.length>0&&(f=="+"&&h.match(`^${c}$`)?(l(3,s=[...s,{string:h,label:f,id:d}]),l(1,h=""),l(2,f=null),d+=1):f=="-"&&!h.match(`^${c}$`)&&(l(3,s=[...s,{string:h,label:f,id:d}]),l(1,h=""),l(2,f=null),d+=1))}function V(p){l(3,s=s.filter(A=>A.id!=p))}async function U(){await fetch(`https://try-regex-default-rtdb.firebaseio.com/collect/${o}.json`,{method:"PUT",body:JSON.stringify({[`round-${t}`]:s})}),l(3,s=[]),await R().then(p=>{})}async function R(){o.length==0&&ge(`${ve}/annotate/login`),await fetch(`https://try-regex-default-rtdb.firebaseio.com/collect/${o}.json`).then(p=>p.json()).then(p=>{t=p.length,t>Ce&&ge(`${ve}/annotate/nl`)}).catch(p=>(console.log(p),[])),await fetch("https://try-regex-default-rtdb.firebaseio.com/programs.json").then(p=>p.json()).then(p=>{let A=p.length;l(0,c=p[Math.floor(Math.random()*(A-1))])}).catch(p=>(console.log(p),[]))}Le(R);const v=[[]];function K(){h=this.value,l(1,h)}function B(){f=this.__value,l(2,f)}function X(){f=this.__value,l(2,f)}return[c,h,f,s,N,V,U,K,B,v,X,p=>V(p.id),p=>V(p.id)]}class Je extends ke{constructor(e){super(),Ie(this,e,He,qe,Te,{})}}function ze(n){let e,l,o,t,a;return t=new Je({}),{c(){e=_("meta"),l=L(),o=_("main"),we(t.$$.fragment),this.h()},l(c){const h=Be("svelte-jy85c7",document.head);e=m(h,"META",{name:!0,content:!0}),h.forEach(u),l=w(c),o=m(c,"MAIN",{});var f=g(o);De(t.$$.fragment,f),f.forEach(u),this.h()},h(){document.title="Regex from Examples",i(e,"name","description"),i(e,"content","Collect examples of examples used to communicate about regexes")},m(c,h){r(document.head,e),G(c,l,h),G(c,o,h),Me(t,o,null),a=!0},p:se,i(c){a||(Oe(t.$$.fragment,c),a=!0)},o(c){Ve(t.$$.fragment,c),a=!1},d(c){u(e),c&&u(l),c&&u(o),je(t)}}}class Qe extends ke{constructor(e){super(),Ie(this,e,null,ze,Te,{})}}export{Qe as default};
