import{S as ye,i as ke,s as Ie,k as h,q as B,a as U,l as _,m as g,r as D,h as f,c as A,n as i,b as J,G as r,J as me,K as S,u as ne,B as se,L as Te,M as Ne,H as Ue,o as Ae,e as be,w as Le,I as Be,x as De,y as Me,f as Oe,t as Ve,z as we}from"../../../../chunks/index-8917b0f0.js";import{g as ge}from"../../../../chunks/navigation-e9cfd917.js";import{u as Pe}from"../../../../chunks/store-a9cfc212.js";function ve(a,e,l){const o=a.slice();return o[17]=e[l],o}function Se(a){let e,l=a[17].string+"",o,t,s,n,d;function p(){return a[12](a[17])}return{c(){e=h("li"),o=B(l),t=h("button"),s=h("i"),this.h()},l(c){e=_(c,"LI",{class:!0});var m=g(e);o=D(m,l),t=_(m,"BUTTON",{class:!0});var I=g(t);s=_(I,"I",{class:!0}),g(s).forEach(f),I.forEach(f),m.forEach(f),this.h()},h(){i(s,"class","fa fa-times"),i(t,"class","btn btn-default btn-sm float-end"),i(e,"class","list-group-item list-group-item-danger")},m(c,m){J(c,e,m),r(e,o),r(e,t),r(t,s),n||(d=S(t,"click",p),n=!0)},p(c,m){a=c,m&8&&l!==(l=a[17].string+"")&&ne(o,l)},d(c){c&&f(e),n=!1,d()}}}function je(a){let e,l=a[17].string+"",o,t,s,n,d;function p(){return a[11](a[17])}return{c(){e=h("li"),o=B(l),t=h("button"),s=h("i"),this.h()},l(c){e=_(c,"LI",{class:!0});var m=g(e);o=D(m,l),t=_(m,"BUTTON",{class:!0});var I=g(t);s=_(I,"I",{class:!0}),g(s).forEach(f),I.forEach(f),m.forEach(f),this.h()},h(){i(s,"class","fa fa-times"),i(t,"class","btn btn-default btn-sm float-end"),i(e,"class","list-group-item list-group-item-success")},m(c,m){J(c,e,m),r(e,o),r(e,t),r(t,s),n||(d=S(t,"click",p),n=!0)},p(c,m){a=c,m&8&&l!==(l=a[17].string+"")&&ne(o,l)},d(c){c&&f(e),n=!1,d()}}}function Ee(a){let e;function l(s,n){if(s[17].label=="+")return je;if(s[17].label=="-")return Se}let o=l(a),t=o&&o(a);return{c(){t&&t.c(),e=be()},l(s){t&&t.l(s),e=be()},m(s,n){t&&t.m(s,n),J(s,e,n)},p(s,n){o===(o=l(s))&&t?t.p(s,n):(t&&t.d(1),t=o&&o(s),t&&(t.c(),t.m(e.parentNode,e)))},d(s){t&&t.d(s),s&&f(e)}}}function Re(a){let e,l,o,t,s,n,d,p,c,m,I,z,T,G,v,K,L,X,F,u,O,V,W,Y,j,M,Z,x,R,w,$,q,P,ee,te,ae,C=a[3],k=[];for(let b=0;b<C.length;b+=1)k[b]=Ee(ve(a,C,b));return{c(){e=h("div"),l=h("div"),o=h("h2"),t=B("Regex: "),s=h("tt"),n=B(a[0]),d=U(),p=h("div"),c=h("div"),m=h("span"),I=B("Enter example"),z=U(),T=h("input"),G=U(),v=h("input"),K=U(),L=h("label"),X=B("+"),F=U(),u=h("input"),O=U(),V=h("label"),W=B("-"),Y=U(),j=h("div"),M=h("button"),Z=B("Add"),x=U(),R=h("div"),w=h("ul");for(let b=0;b<k.length;b+=1)k[b].c();$=U(),q=h("div"),P=h("button"),ee=B("Submit"),this.h()},l(b){e=_(b,"DIV",{class:!0});var y=g(e);l=_(y,"DIV",{class:!0});var E=g(l);o=_(E,"H2",{});var H=g(o);t=D(H,"Regex: "),s=_(H,"TT",{});var re=g(s);n=D(re,a[0]),re.forEach(f),H.forEach(f),E.forEach(f),d=A(y),p=_(y,"DIV",{class:!0});var Q=g(p);c=_(Q,"DIV",{class:!0});var N=g(c);m=_(N,"SPAN",{class:!0});var oe=g(m);I=D(oe,"Enter example"),oe.forEach(f),z=A(N),T=_(N,"INPUT",{type:!0,class:!0}),G=A(N),v=_(N,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),K=A(N),L=_(N,"LABEL",{class:!0,for:!0});var ce=g(L);X=D(ce,"+"),ce.forEach(f),F=A(N),u=_(N,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),O=A(N),V=_(N,"LABEL",{class:!0,for:!0});var ie=g(V);W=D(ie,"-"),ie.forEach(f),N.forEach(f),Y=A(Q),j=_(Q,"DIV",{class:!0});var ue=g(j);M=_(ue,"BUTTON",{type:!0,class:!0});var fe=g(M);Z=D(fe,"Add"),fe.forEach(f),ue.forEach(f),Q.forEach(f),x=A(y),R=_(y,"DIV",{class:!0});var de=g(R);w=_(de,"UL",{class:!0});var he=g(w);for(let le=0;le<k.length;le+=1)k[le].l(he);he.forEach(f),de.forEach(f),$=A(y),q=_(y,"DIV",{class:!0});var _e=g(q);P=_(_e,"BUTTON",{class:!0});var pe=g(P);ee=D(pe,"Submit"),pe.forEach(f),_e.forEach(f),y.forEach(f),this.h()},h(){i(l,"class","col-lg-10 py-md-3"),i(m,"class","input-group-text"),i(T,"type","text"),i(T,"class","form-control"),i(v,"type","radio"),i(v,"class","btn-check"),i(v,"name","utterance-type"),v.__value="+",v.value=v.__value,i(v,"id","positive"),i(v,"autocomplete","off"),a[9][0].push(v),i(L,"class","btn btn-outline-success"),i(L,"for","positive"),i(u,"type","radio"),i(u,"class","btn-check"),i(u,"name","utterance-type"),u.__value="-",u.value=u.__value,i(u,"id","negative"),i(u,"autocomplete","off"),a[9][0].push(u),i(V,"class","btn btn-outline-danger"),i(V,"for","negative"),i(c,"class","input-group col"),i(M,"type","submit"),i(M,"class","btn btn-primary col-auto"),i(j,"class","col"),i(p,"class","row gx-1"),i(w,"class","list-group"),i(R,"class","col-lg-6 py-md-5"),i(P,"class","btn btn-success btn-lg float-end"),i(q,"class","col-lg-6 py-md-5"),i(e,"class","col-lg-10 mx-auto p-3 py-md-5")},m(b,y){J(b,e,y),r(e,l),r(l,o),r(o,t),r(o,s),r(s,n),r(e,d),r(e,p),r(p,c),r(c,m),r(m,I),r(c,z),r(c,T),me(T,a[1]),r(c,G),r(c,v),v.checked=v.__value===a[2],r(c,K),r(c,L),r(L,X),r(c,F),r(c,u),u.checked=u.__value===a[2],r(c,O),r(c,V),r(V,W),r(p,Y),r(p,j),r(j,M),r(M,Z),r(e,x),r(e,R),r(R,w);for(let E=0;E<k.length;E+=1)k[E].m(w,null);r(e,$),r(e,q),r(q,P),r(P,ee),te||(ae=[S(T,"input",a[7]),S(v,"change",a[8]),S(u,"change",a[10]),S(M,"click",a[4]),S(P,"click",a[6])],te=!0)},p(b,[y]){if(y&1&&ne(n,b[0]),y&2&&T.value!==b[1]&&me(T,b[1]),y&4&&(v.checked=v.__value===b[2]),y&4&&(u.checked=u.__value===b[2]),y&40){C=b[3];let E;for(E=0;E<C.length;E+=1){const H=ve(b,C,E);k[E]?k[E].p(H,y):(k[E]=Ee(H),k[E].c(),k[E].m(w,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=C.length}},i:se,o:se,d(b){b&&f(e),a[9][0].splice(a[9][0].indexOf(v),1),a[9][0].splice(a[9][0].indexOf(u),1),Te(k,b),te=!1,Ne(ae)}}}let qe=2;function Ce(a,e,l){let o;Ue(a,Pe,u=>l(15,o=u));let t=0,s="",n="",d=null,p=[],c=0;function m(){n.length>0&&(d=="+"&&n.match(`^${s}$`)?(l(3,p=[...p,{string:n,label:d,id:c}]),l(1,n=""),l(2,d=null),c+=1):d=="-"&&!n.match(`^${s}$`)&&(l(3,p=[...p,{string:n,label:d,id:c}]),l(1,n=""),l(2,d=null),c+=1))}function I(u){l(3,p=p.filter(O=>O.id!=u))}async function z(){await fetch(`https://try-regex-default-rtdb.firebaseio.com/collect/${o}.json`,{method:"PUT",body:JSON.stringify({[`round-${t}`]:p})}),l(3,p=[]),t+=1,t>=qe&&ge("/annotate/nl"),await T().then(u=>{})}async function T(){o.length==0&&ge("/annotate/login"),await fetch("https://try-regex-default-rtdb.firebaseio.com/programs.json").then(u=>u.json()).then(u=>{let O=u.length;l(0,s=u[Math.floor(Math.random()*(O-1))])}).catch(u=>(console.log(u),[]))}Ae(T);const G=[[]];function v(){n=this.value,l(1,n)}function K(){d=this.__value,l(2,d)}function L(){d=this.__value,l(2,d)}return[s,n,d,p,m,I,z,v,K,G,L,u=>I(u.id),u=>I(u.id)]}class He extends ye{constructor(e){super(),ke(this,e,Ce,Re,Ie,{})}}function Je(a){let e,l,o,t,s;return t=new He({}),{c(){e=h("meta"),l=U(),o=h("main"),Le(t.$$.fragment),this.h()},l(n){const d=Be("svelte-jy85c7",document.head);e=_(d,"META",{name:!0,content:!0}),d.forEach(f),l=A(n),o=_(n,"MAIN",{});var p=g(o);De(t.$$.fragment,p),p.forEach(f),this.h()},h(){document.title="Regex from Examples",i(e,"name","description"),i(e,"content","Collect examples of examples used to communicate about regexes")},m(n,d){r(document.head,e),J(n,l,d),J(n,o,d),Me(t,o,null),s=!0},p:se,i(n){s||(Oe(t.$$.fragment,n),s=!0)},o(n){Ve(t.$$.fragment,n),s=!1},d(n){f(e),n&&f(l),n&&f(o),we(t)}}}class Xe extends ye{constructor(e){super(),ke(this,e,null,Je,Ie,{})}}export{Xe as default};
