import{S as Fe,i as Ke,s as We,k as r,q as B,a as T,w as Ze,l as o,m as c,r as V,h as s,c as L,x as xe,n as l,b as F,G as e,T as qe,y as et,I as le,u as fe,f as tt,t as lt,U as at,z as st,L as rt,H as ot,o as it,e as Ge,Q as nt,B as ct}from"../../../../chunks/index-0e9e634d.js";import{g as we}from"../../../../chunks/navigation-c15f7844.js";import{u as ut}from"../../../../chunks/store-cf389518.js";import{d as Ne}from"../../../../chunks/singletons-69107a7c.js";import{S as ft}from"../../../../chunks/SvelteToast-ff19346a.js";import{t as Xe}from"../../../../chunks/stores-3e1ed05a.js";function Je(a,t,i){const n=a.slice();return n[21]=t[i],n}function dt(a){let t,i,n=a[21].string+"",u,h,f,k,N,O,m,y,g,I,w,D,S,C;function q(){return a[14](a[21])}return{c(){t=r("div"),i=r("li"),u=B(n),h=T(),f=r("li"),k=r("i"),N=T(),O=r("li"),m=r("i"),y=T(),g=r("li"),I=r("button"),w=r("i"),D=T(),this.h()},l(v){t=o(v,"DIV",{class:!0});var d=c(t);i=o(d,"LI",{class:!0});var R=c(i);u=V(R,n),R.forEach(s),h=L(d),f=o(d,"LI",{class:!0});var z=c(f);k=o(z,"I",{class:!0}),c(k).forEach(s),z.forEach(s),N=L(d),O=o(d,"LI",{class:!0});var $=c(O);m=o($,"I",{class:!0}),c(m).forEach(s),$.forEach(s),y=L(d),g=o(d,"LI",{class:!0});var b=c(g);I=o(b,"BUTTON",{class:!0});var H=c(I);w=o(H,"I",{class:!0}),c(w).forEach(s),H.forEach(s),b.forEach(s),d.forEach(s),D=L(v),this.h()},h(){l(i,"class","list-group-item list-group-item flex-fill"),l(k,"class","fa-solid fa-plus"),l(f,"class","list-group-item list-group-item"),l(m,"class","fa-solid fa-minus"),l(O,"class","list-group-item list-group-item-danger"),l(w,"class","fa fa-times"),l(I,"class","btn btn-default btn-sm px-0 py-0"),l(g,"class","list-group-item list-group-item"),l(t,"class","list-group list-group-horizontal py-md-1")},m(v,d){F(v,t,d),e(t,i),e(i,u),e(t,h),e(t,f),e(f,k),e(t,N),e(t,O),e(O,m),e(t,y),e(t,g),e(g,I),e(I,w),F(v,D,d),S||(C=le(I,"click",q),S=!0)},p(v,d){a=v,d&32&&n!==(n=a[21].string+"")&&fe(u,n)},d(v){v&&s(t),v&&s(D),S=!1,C()}}}function ht(a){let t,i,n=a[21].string+"",u,h,f,k,N,O,m,y,g,I,w,D,S,C;function q(){return a[13](a[21])}return{c(){t=r("div"),i=r("li"),u=B(n),h=T(),f=r("li"),k=r("i"),N=T(),O=r("li"),m=r("i"),y=T(),g=r("li"),I=r("button"),w=r("i"),D=T(),this.h()},l(v){t=o(v,"DIV",{class:!0});var d=c(t);i=o(d,"LI",{class:!0});var R=c(i);u=V(R,n),R.forEach(s),h=L(d),f=o(d,"LI",{class:!0});var z=c(f);k=o(z,"I",{class:!0}),c(k).forEach(s),z.forEach(s),N=L(d),O=o(d,"LI",{class:!0});var $=c(O);m=o($,"I",{class:!0}),c(m).forEach(s),$.forEach(s),y=L(d),g=o(d,"LI",{class:!0});var b=c(g);I=o(b,"BUTTON",{class:!0});var H=c(I);w=o(H,"I",{class:!0}),c(w).forEach(s),H.forEach(s),b.forEach(s),d.forEach(s),D=L(v),this.h()},h(){l(i,"class","list-group-item list-group-item flex-fill"),l(k,"class","fa-solid fa-plus"),l(f,"class","list-group-item list-group-item-primary"),l(m,"class","fa-solid fa-minus"),l(O,"class","list-group-item list-group-item"),l(w,"class","fa fa-times"),l(I,"class","btn btn-default btn-sm px-0 py-0"),l(g,"class","list-group-item list-group-item"),l(t,"class","list-group list-group-horizontal py-md-1")},m(v,d){F(v,t,d),e(t,i),e(i,u),e(t,h),e(t,f),e(f,k),e(t,N),e(t,O),e(O,m),e(t,y),e(t,g),e(g,I),e(I,w),F(v,D,d),S||(C=le(I,"click",q),S=!0)},p(v,d){a=v,d&32&&n!==(n=a[21].string+"")&&fe(u,n)},d(v){v&&s(t),v&&s(D),S=!1,C()}}}function Qe(a){let t;function i(h,f){if(h[21].label=="+")return ht;if(h[21].label=="-")return dt}let n=i(a),u=n&&n(a);return{c(){u&&u.c(),t=Ge()},l(h){u&&u.l(h),t=Ge()},m(h,f){u&&u.m(h,f),F(h,t,f)},p(h,f){n===(n=i(h))&&u?u.p(h,f):(u&&u.d(1),u=n&&n(h),u&&(u.c(),u.m(t.parentNode,t)))},d(h){u&&u.d(h),h&&s(t)}}}function pt(a){let t,i,n,u,h,f,k,N,O,m,y,g,I,w,D,S,C,q,v,d,R,z,$,b,H,M,p,G,se,ne,X,pe,j,me,K,ce,_e,A,ge,W,ue,ve,ae,Q,be,Ee,re,Z,ye,oe,x,ke,Ie,ee,te,Oe,Ue,ie=a[5],P=[];for(let _=0;_<ie.length;_+=1)P[_]=Qe(Je(a,ie,_));return ee=new ft({}),{c(){t=r("div"),i=r("div"),n=r("h4"),u=B("Completed "),h=B(a[1]),f=B(" of "),k=B(a[0]),N=B(" tasks in this phase"),O=T(),m=r("div"),y=r("h2"),g=B("You are now the describer"),I=T(),w=r("p"),D=B("Here, you are presented with a regular expression. You need to provide a set of examples that "),S=r("em"),C=B("describes"),q=B(" this regular expression to a guesser."),v=T(),d=r("div"),R=r("h2"),z=B("Regex: "),$=r("tt"),b=B(a[2]),H=T(),M=r("div"),p=r("div"),G=r("span"),se=B("Enter example"),ne=T(),X=r("input"),pe=T(),j=r("input"),me=T(),K=r("label"),ce=r("i"),_e=T(),A=r("input"),ge=T(),W=r("label"),ue=r("i"),ve=T(),ae=r("div"),Q=r("button"),be=B("Add"),Ee=T(),re=r("div"),Z=r("ul");for(let _=0;_<P.length;_+=1)P[_].c();ye=T(),oe=r("div"),x=r("button"),ke=B("Submit"),Ie=T(),Ze(ee.$$.fragment),this.h()},l(_){t=o(_,"DIV",{class:!0});var E=c(t);i=o(E,"DIV",{class:!0});var U=c(i);n=o(U,"H4",{});var J=c(n);u=V(J,"Completed "),h=V(J,a[1]),f=V(J," of "),k=V(J,a[0]),N=V(J," tasks in this phase"),J.forEach(s),U.forEach(s),O=L(E),m=o(E,"DIV",{class:!0});var je=c(m);y=o(je,"H2",{});var Ae=c(y);g=V(Ae,"You are now the describer"),Ae.forEach(s),je.forEach(s),I=L(E),w=o(E,"P",{});var de=c(w);D=V(de,"Here, you are presented with a regular expression. You need to provide a set of examples that "),S=o(de,"EM",{});var De=c(S);C=V(De,"describes"),De.forEach(s),q=V(de," this regular expression to a guesser."),de.forEach(s),v=L(E),d=o(E,"DIV",{class:!0});var Me=c(d);R=o(Me,"H2",{});var Te=c(R);z=V(Te,"Regex: "),$=o(Te,"TT",{});var Pe=c($);b=V(Pe,a[2]),Pe.forEach(s),Te.forEach(s),Me.forEach(s),H=L(E),M=o(E,"DIV",{class:!0});var he=c(M);p=o(he,"DIV",{class:!0});var Y=c(p);G=o(Y,"SPAN",{class:!0});var Be=c(G);se=V(Be,"Enter example"),Be.forEach(s),ne=L(Y),X=o(Y,"INPUT",{type:!0,class:!0}),pe=L(Y),j=o(Y,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),me=L(Y),K=o(Y,"LABEL",{class:!0,for:!0});var Ve=c(K);ce=o(Ve,"I",{class:!0}),c(ce).forEach(s),Ve.forEach(s),_e=L(Y),A=o(Y,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),ge=L(Y),W=o(Y,"LABEL",{class:!0,for:!0});var Se=c(W);ue=o(Se,"I",{class:!0}),c(ue).forEach(s),Se.forEach(s),Y.forEach(s),ve=L(he),ae=o(he,"DIV",{class:!0});var He=c(ae);Q=o(He,"BUTTON",{type:!0,class:!0});var Re=c(Q);be=V(Re,"Add"),Re.forEach(s),He.forEach(s),he.forEach(s),Ee=L(E),re=o(E,"DIV",{class:!0});var Ce=c(re);Z=o(Ce,"UL",{class:!0});var $e=c(Z);for(let Le=0;Le<P.length;Le+=1)P[Le].l($e);$e.forEach(s),Ce.forEach(s),ye=L(E),oe=o(E,"DIV",{class:!0});var Ye=c(oe);x=o(Ye,"BUTTON",{class:!0});var ze=c(x);ke=V(ze,"Submit"),ze.forEach(s),Ye.forEach(s),Ie=L(E),xe(ee.$$.fragment,E),E.forEach(s),this.h()},h(){l(i,"class","col-lg-10 pt-md-1 pb-md-1 text-center"),l(m,"class","col-lg-10 pt-md-1 pb-md-1 text-center"),l(d,"class","col-lg-10 py-md-3"),l(G,"class","input-group-text"),l(X,"type","text"),l(X,"class","form-control"),l(j,"type","radio"),l(j,"class","btn-check"),l(j,"name","utterance-type"),j.__value="+",j.value=j.__value,l(j,"id","positive"),l(j,"autocomplete","off"),a[11][0].push(j),l(ce,"class","fa-solid fa-plus"),l(K,"class","btn btn-outline-primary"),l(K,"for","positive"),l(A,"type","radio"),l(A,"class","btn-check"),l(A,"name","utterance-type"),A.__value="-",A.value=A.__value,l(A,"id","negative"),l(A,"autocomplete","off"),a[11][0].push(A),l(ue,"class","fa-solid fa-minus"),l(W,"class","btn btn-outline-danger"),l(W,"for","negative"),l(p,"class","input-group col"),l(Q,"type","submit"),l(Q,"class","btn btn-primary col-auto"),l(ae,"class","col"),l(M,"class","row gx-1"),l(Z,"class","list-group"),l(re,"class","col-lg-6 py-md-5"),l(x,"class","btn btn-success btn-lg float-end"),l(oe,"class","col-lg-6 py-md-5"),l(t,"class","col-lg-10 mx-auto p-3 py-md-5")},m(_,E){F(_,t,E),e(t,i),e(i,n),e(n,u),e(n,h),e(n,f),e(n,k),e(n,N),e(t,O),e(t,m),e(m,y),e(y,g),e(t,I),e(t,w),e(w,D),e(w,S),e(S,C),e(w,q),e(t,v),e(t,d),e(d,R),e(R,z),e(R,$),e($,b),e(t,H),e(t,M),e(M,p),e(p,G),e(G,se),e(p,ne),e(p,X),qe(X,a[3]),e(p,pe),e(p,j),j.checked=j.__value===a[4],e(p,me),e(p,K),e(K,ce),e(p,_e),e(p,A),A.checked=A.__value===a[4],e(p,ge),e(p,W),e(W,ue),e(M,ve),e(M,ae),e(ae,Q),e(Q,be),e(t,Ee),e(t,re),e(re,Z);for(let U=0;U<P.length;U+=1)P[U].m(Z,null);e(t,ye),e(t,oe),e(oe,x),e(x,ke),e(t,Ie),et(ee,t,null),te=!0,Oe||(Ue=[le(X,"input",a[9]),le(j,"change",a[10]),le(A,"change",a[12]),le(Q,"click",a[6]),le(x,"click",a[8])],Oe=!0)},p(_,[E]){if((!te||E&2)&&fe(h,_[1]),(!te||E&1)&&fe(k,_[0]),(!te||E&4)&&fe(b,_[2]),E&8&&X.value!==_[3]&&qe(X,_[3]),E&16&&(j.checked=j.__value===_[4]),E&16&&(A.checked=A.__value===_[4]),E&160){ie=_[5];let U;for(U=0;U<ie.length;U+=1){const J=Je(_,ie,U);P[U]?P[U].p(J,E):(P[U]=Qe(J),P[U].c(),P[U].m(Z,null))}for(;U<P.length;U+=1)P[U].d(1);P.length=ie.length}},i(_){te||(tt(ee.$$.fragment,_),te=!0)},o(_){lt(ee.$$.fragment,_),te=!1},d(_){_&&s(t),a[11][0].splice(a[11][0].indexOf(j),1),a[11][0].splice(a[11][0].indexOf(A),1),at(P,_),st(ee),Oe=!1,rt(Ue)}}}function mt(a,t){return a=Math.ceil(a),t=Math.floor(t),Math.floor(Math.random()*(t-a)+a)}function _t(a,t,i){let n;ot(a,ut,b=>i(19,n=b));let u=[],h=1,f=3,k=0,N="",O="",m="",y=null,g=[],I=0;function w(){if(u=[...u,{string:m,label:y,id:I}],m.length>0)if(y=="+"&&m.match(`^${N}$`))i(5,g=[...g,{string:m,label:y,id:I}]),i(3,m=""),i(4,y=null),I+=1;else if(y=="-"&&!m.match(`^${N}$`))i(5,g=[...g,{string:m,label:y,id:I}]),i(3,m=""),i(4,y=null),I+=1;else{Xe.push("Label not provided",{theme:{"--toastBarHeight":0,"--toastBackground":"red"}});return}else{Xe.push("Please enter a valid string",{theme:{"--toastBarHeight":0,"--toastBackground":"red"}});return}}function D(b){i(5,g=g.filter(H=>H.id!=b))}async function S(){console.log(O),await fetch(`https://try-regex-default-rtdb.firebaseio.com/heldout-describe-pilot/${O}/descriptions/${n}.json`,{method:"PUT",body:JSON.stringify(g)}),i(5,g=[]),await C().then(b=>{})}async function C(){n.length==0&&we(`${Ne}/annotate/login`);let b=await fetch("https://try-regex-default-rtdb.firebaseio.com/heldout-describe-pilot.json").then(ne=>ne.json()),H=new Object,M=new Object;for(var p in b)b[p].hasOwnProperty("descriptions")?(b[p].descriptions.hasOwnProperty(n)&&(H[p]=b[p]),Object.keys(b[p].descriptions).length<h&&(M[p]=b[p])):M[p]=b[p];Object.keys(H).length>f&&we(`${Ne}/annotate/finish`),Object.keys(M).length==0&&we(`${Ne}/annotate/finish`),i(1,k=Object.keys(H).length);let G=mt(0,Object.keys(M).length);console.log(G);let se=0;for(var p in M){if(se==G){O=p,i(2,N=M[p].program),console.log(p,M[p]),console.log(O,N);return}se+=1}}it(C);const q=[[]];function v(){m=this.value,i(3,m)}function d(){y=this.__value,i(4,y)}function R(){y=this.__value,i(4,y)}return[f,k,N,m,y,g,w,D,S,v,d,q,R,b=>D(b.id),b=>D(b.id)]}class gt extends Fe{constructor(t){super(),Ke(this,t,_t,pt,We,{})}}function vt(a){let t,i,n,u,h;return u=new gt({}),{c(){t=r("meta"),i=T(),n=r("main"),Ze(u.$$.fragment),this.h()},l(f){const k=nt("svelte-jy85c7",document.head);t=o(k,"META",{name:!0,content:!0}),k.forEach(s),i=L(f),n=o(f,"MAIN",{});var N=c(n);xe(u.$$.fragment,N),N.forEach(s),this.h()},h(){document.title="Regex from Examples",l(t,"name","description"),l(t,"content","Collect examples of examples used to communicate about regexes")},m(f,k){e(document.head,t),F(f,i,k),F(f,n,k),et(u,n,null),h=!0},p:ct,i(f){h||(tt(u.$$.fragment,f),h=!0)},o(f){lt(u.$$.fragment,f),h=!1},d(f){s(t),f&&s(i),f&&s(n),st(u)}}}class Tt extends Fe{constructor(t){super(),Ke(this,t,null,vt,We,{})}}export{Tt as default};
