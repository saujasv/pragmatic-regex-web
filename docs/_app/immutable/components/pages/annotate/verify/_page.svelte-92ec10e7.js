import{S as z,i as C,s as A,k,q as I,a as N,w as H,l as y,m as T,r as O,h,c as B,x as Q,n as m,b as E,G as v,y as F,f as G,t as X,z as J,H as W,o as Z,I as K,T as U,e as L,u as S,Q as ee,B as te}from"../../../../chunks/index-8c8999cc.js";import{u as le,d as se}from"../../../../chunks/store-5a2d893e.js";import{g as M}from"../../../../chunks/navigation-8ff8a9af.js";import{S as oe,t as ne}from"../../../../chunks/SvelteToast-1a379818.js";import{d as V}from"../../../../chunks/singletons-5cc1f033.js";function Y(a,e,o){const s=a.slice();return s[10]=e[o],s}function D(a,e,o){const s=a.slice();return s[13]=e[o],s}function re(a){let e,o=a[13].string+"",s;return{c(){e=k("li"),s=I(o),this.h()},l(l){e=y(l,"LI",{class:!0});var t=T(e);s=O(t,o),t.forEach(h),this.h()},h(){m(e,"class","list-group-item list-group-item-danger")},m(l,t){E(l,e,t),v(e,s)},p(l,t){t&2&&o!==(o=l[13].string+"")&&S(s,o)},d(l){l&&h(e)}}}function ie(a){let e,o=a[13].string+"",s;return{c(){e=k("li"),s=I(o),this.h()},l(l){e=y(l,"LI",{class:!0});var t=T(e);s=O(t,o),t.forEach(h),this.h()},h(){m(e,"class","list-group-item list-group-item-primary")},m(l,t){E(l,e,t),v(e,s)},p(l,t){t&2&&o!==(o=l[13].string+"")&&S(s,o)},d(l){l&&h(e)}}}function q(a){let e;function o(t,n){if(t[13].label=="+")return ie;if(t[13].label=="-")return re}let s=o(a),l=s&&s(a);return{c(){l&&l.c(),e=L()},l(t){l&&l.l(t),e=L()},m(t,n){l&&l.m(t,n),E(t,e,n)},p(t,n){s===(s=o(t))&&l?l.p(t,n):(l&&l.d(1),l=s&&s(t),l&&(l.c(),l.m(e.parentNode,e)))},d(t){l&&l.d(t),t&&h(e)}}}function ae(a){let e,o,s=a[10].regex+"",l,t;return{c(){e=k("label"),o=k("tt"),l=I(s),this.h()},l(n){e=y(n,"LABEL",{class:!0,for:!0});var c=T(e);o=y(c,"TT",{});var d=T(o);l=O(d,s),d.forEach(h),c.forEach(h),this.h()},h(){m(e,"class","btn btn-outline-dark"),m(e,"for",t=a[10].id)},m(n,c){E(n,e,c),v(e,o),v(o,l)},p(n,c){c&2&&s!==(s=n[10].regex+"")&&S(l,s),c&2&&t!==(t=n[10].id)&&m(e,"for",t)},d(n){n&&h(e)}}}function ue(a){let e,o,s=a[10].regex+"",l,t;return{c(){e=k("label"),o=k("tt"),l=I(s),this.h()},l(n){e=y(n,"LABEL",{class:!0,for:!0});var c=T(e);o=y(c,"TT",{});var d=T(o);l=O(d,s),d.forEach(h),c.forEach(h),this.h()},h(){m(e,"class","btn btn-outline-success"),m(e,"for",t=a[10].id)},m(n,c){E(n,e,c),v(e,o),v(o,l)},p(n,c){c&2&&s!==(s=n[10].regex+"")&&S(l,s),c&2&&t!==(t=n[10].id)&&m(e,"for",t)},d(n){n&&h(e)}}}function ce(a){let e,o,s=a[10].regex+"",l,t;return{c(){e=k("label"),o=k("tt"),l=I(s),this.h()},l(n){e=y(n,"LABEL",{class:!0,for:!0});var c=T(e);o=y(c,"TT",{});var d=T(o);l=O(d,s),d.forEach(h),c.forEach(h),this.h()},h(){m(e,"class","btn btn-outline-primary"),m(e,"for",t=a[10].id)},m(n,c){E(n,e,c),v(e,o),v(o,l)},p(n,c){c&2&&s!==(s=n[10].regex+"")&&S(l,s),c&2&&t!==(t=n[10].id)&&m(e,"for",t)},d(n){n&&h(e)}}}function x(a){let e,o,s,l,t,n,c;function d(u,p){return u[10].ground_truth?ce:u[10].sat?ue:ae}let $=d(a),b=$(a);return{c(){e=k("input"),l=N(),b.c(),t=L(),this.h()},l(u){e=y(u,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),l=B(u),b.l(u),t=L(),this.h()},h(){m(e,"type","radio"),m(e,"class","btn-check"),m(e,"name","utterance-type"),e.__value=o=a[10].id,e.value=e.__value,m(e,"id",s=a[10].id),m(e,"autocomplete","off"),a[5][0].push(e)},m(u,p){E(u,e,p),e.checked=e.__value===a[2],E(u,l,p),b.m(u,p),E(u,t,p),n||(c=K(e,"change",a[4]),n=!0)},p(u,p){p&2&&o!==(o=u[10].id)&&(e.__value=o,e.value=e.__value),p&2&&s!==(s=u[10].id)&&m(e,"id",s),p&4&&(e.checked=e.__value===u[2]),$===($=d(u))&&b?b.p(u,p):(b.d(1),b=$(u),b&&(b.c(),b.m(t.parentNode,t)))},d(u){u&&h(e),a[5][0].splice(a[5][0].indexOf(e),1),u&&h(l),b.d(u),u&&h(t),n=!1,c()}}}function R(a){let e,o,s,l,t,n,c,d,$,b=a[1].examples,u=[];for(let r=0;r<b.length;r+=1)u[r]=q(D(a,b,r));let p=a[1].options,_=[];for(let r=0;r<p.length;r+=1)_[r]=x(Y(a,p,r));return{c(){e=k("div");for(let r=0;r<u.length;r+=1)u[r].c();o=N(),s=k("div");for(let r=0;r<_.length;r+=1)_[r].c();l=N(),t=k("div"),n=k("button"),c=I("Submit"),this.h()},l(r){e=y(r,"DIV",{class:!0});var f=T(e);for(let j=0;j<u.length;j+=1)u[j].l(f);f.forEach(h),o=B(r),s=y(r,"DIV",{class:!0});var i=T(s);for(let j=0;j<_.length;j+=1)_[j].l(i);i.forEach(h),l=B(r),t=y(r,"DIV",{class:!0});var g=T(t);n=y(g,"BUTTON",{class:!0});var w=T(n);c=O(w,"Submit"),w.forEach(h),g.forEach(h),this.h()},h(){m(e,"class","list-group col-lg-10 py-md-3"),m(s,"class","btn-group-vertical col-lg-10 py-md-3"),m(n,"class","btn btn-success btn-lg float-end"),m(t,"class","col-lg-10 py-md-5")},m(r,f){E(r,e,f);for(let i=0;i<u.length;i+=1)u[i].m(e,null);E(r,o,f),E(r,s,f);for(let i=0;i<_.length;i+=1)_[i].m(s,null);E(r,l,f),E(r,t,f),v(t,n),v(n,c),d||($=K(n,"click",a[3]),d=!0)},p(r,f){if(f&2){b=r[1].examples;let i;for(i=0;i<b.length;i+=1){const g=D(r,b,i);u[i]?u[i].p(g,f):(u[i]=q(g),u[i].c(),u[i].m(e,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=b.length}if(f&6){p=r[1].options;let i;for(i=0;i<p.length;i+=1){const g=Y(r,p,i);_[i]?_[i].p(g,f):(_[i]=x(g),_[i].c(),_[i].m(s,null))}for(;i<_.length;i+=1)_[i].d(1);_.length=p.length}},d(r){r&&h(e),U(u,r),r&&h(o),r&&h(s),U(_,r),r&&h(l),r&&h(t),d=!1,$()}}}function fe(a){let e,o,s,l,t,n,c,d,$,b,u=a[0],p,_,r,f=R(a);return _=new oe({}),{c(){e=k("div"),o=k("div"),s=I("You are given a list of examples of strings. The strings in "),l=k("button"),t=I("blue"),n=I(" are positive examples and those in "),c=k("button"),d=I("red"),$=I(" are negative examples. You are also given options of regular expressions. You need to choose which regular expression best fits the given set of examples. If there are multiple consistent regular expressions, choose the one you think a person who provided these examples was most likely to refer to."),b=N(),f.c(),p=N(),H(_.$$.fragment),this.h()},l(i){e=y(i,"DIV",{class:!0});var g=T(e);o=y(g,"DIV",{class:!0});var w=T(o);s=O(w,"You are given a list of examples of strings. The strings in "),l=y(w,"BUTTON",{class:!0});var j=T(l);t=O(j,"blue"),j.forEach(h),n=O(w," are positive examples and those in "),c=y(w,"BUTTON",{class:!0});var P=T(c);d=O(P,"red"),P.forEach(h),$=O(w," are negative examples. You are also given options of regular expressions. You need to choose which regular expression best fits the given set of examples. If there are multiple consistent regular expressions, choose the one you think a person who provided these examples was most likely to refer to."),w.forEach(h),b=B(g),f.l(g),p=B(g),Q(_.$$.fragment,g),g.forEach(h),this.h()},h(){m(l,"class","btn btn-mini btn-primary"),m(c,"class","btn btn-mini btn-danger"),m(o,"class","col-lg-10 pt-md-1 pb-md-1"),m(e,"class","col-lg-6 mx-auto p-3 pt-md-5 pb-md-3")},m(i,g){E(i,e,g),v(e,o),v(o,s),v(o,l),v(l,t),v(o,n),v(o,c),v(c,d),v(o,$),v(e,b),f.m(e,null),v(e,p),F(_,e,null),r=!0},p(i,[g]){g&1&&A(u,u=i[0])?(f.d(1),f=R(i),f.c(),f.m(e,p)):f.p(i,g)},i(i){r||(G(_.$$.fragment,i),r=!0)},o(i){X(_.$$.fragment,i),r=!1},d(i){i&&h(e),f.d(i),J(_)}}}let he=2,pe=2;function _e(a,e){return a=Math.ceil(a),e=Math.floor(e),Math.floor(Math.random()*(e-a)+a)}function me(a,e,o){let s;W(a,le,p=>o(7,s=p));let l=0;async function t(){s.length==0&&M(`${V}/annotate/login`);let p=await fetch(`${se}/pilot-options.json`).then(w=>w.json()).catch(w=>(console.log(w),[])),_=new Object,r=new Object;for(var f in p)p[f].hasOwnProperty("verifications")?(p[f].verifications.hasOwnProperty(s)&&(_[f]=p[f]),Object.keys(p[f].verifications).length<he&&(r[f]=p[f])):r[f]=p[f];Object.keys(_).length>=pe&&M(`${V}/annotate/examples`),Object.keys(r).length==0&&M(`${V}/annotate/examples`);let i=_e(0,Object.keys(r).length);console.log(i);let g=0;for(var f in r){if(g==i){n=f,o(1,c=r[f]),o(2,d=null),console.log(f,r[f]),console.log(n,c);return}g+=1}}let n="",c={examples:[],options:[]},d=null;async function $(){if(d===null){ne.push("Please answer to proceed",{theme:{"--toastBarHeight":0,"--toastBackground":"red"}});return}console.log(n),await fetch(`https://try-regex-default-rtdb.firebaseio.com/pilot-options/${n}/verifications/${s}.json`,{method:"PUT",body:d}),o(0,l+=1),t()}Z(t);const b=[[]];function u(){d=this.__value,o(2,d)}return[l,c,d,$,u,b]}class de extends z{constructor(e){super(),C(this,e,me,fe,A,{})}}function be(a){let e,o,s,l;return s=new de({}),{c(){e=k("meta"),o=N(),H(s.$$.fragment),this.h()},l(t){const n=ee("svelte-tap1z9",document.head);e=y(n,"META",{name:!0,content:!0}),n.forEach(h),o=B(t),Q(s.$$.fragment,t),this.h()},h(){document.title="Regex from Examples",m(e,"name","description"),m(e,"content","Regular expressions from examples")},m(t,n){v(document.head,e),E(t,o,n),F(s,t,n),l=!0},p:te,i(t){l||(G(s.$$.fragment,t),l=!0)},o(t){X(s.$$.fragment,t),l=!1},d(t){h(e),t&&h(o),J(s,t)}}}class Te extends z{constructor(e){super(),C(this,e,null,be,A,{})}}export{Te as default};
