import{S as W,i as Z,s as x,k,q as S,a as L,w as ee,l as y,m as I,r as q,h as _,c as V,x as te,n as m,b as w,G as p,y as le,K as se,f as ne,t as ie,L as M,z as oe,H as ae,o as re,e as P,u as A,I as ce,B as ue}from"../../../../chunks/index-8cf49659.js";import{u as fe}from"../../../../chunks/store-5d6b215d.js";import{g as R}from"../../../../chunks/navigation-30c8db63.js";import{S as he,t as _e}from"../../../../chunks/SvelteToast-321309d1.js";function Y(i,e,l){const n=i.slice();return n[8]=e[l],n[9]=e,n[10]=l,n}function G(i,e,l){const n=i.slice();return n[11]=e[l],n}function J(i,e,l){const n=i.slice();return n[14]=e[l],n}function de(i){let e,l=i[14].string+"",n;return{c(){e=k("li"),n=S(l),this.h()},l(s){e=y(s,"LI",{class:!0});var t=I(e);n=q(t,l),t.forEach(_),this.h()},h(){m(e,"class","list-group-item list-group-item-danger")},m(s,t){w(s,e,t),p(e,n)},p(s,t){t&1&&l!==(l=s[14].string+"")&&A(n,l)},d(s){s&&_(e)}}}function me(i){let e,l=i[14].string+"",n;return{c(){e=k("li"),n=S(l),this.h()},l(s){e=y(s,"LI",{class:!0});var t=I(e);n=q(t,l),t.forEach(_),this.h()},h(){m(e,"class","list-group-item list-group-item-primary")},m(s,t){w(s,e,t),p(e,n)},p(s,t){t&1&&l!==(l=s[14].string+"")&&A(n,l)},d(s){s&&_(e)}}}function K(i){let e;function l(t,a){if(t[14].label=="+")return me;if(t[14].label=="-")return de}let n=l(i),s=n&&n(i);return{c(){s&&s.c(),e=P()},l(t){s&&s.l(t),e=P()},m(t,a){s&&s.m(t,a),w(t,e,a)},p(t,a){n===(n=l(t))&&s?s.p(t,a):(s&&s.d(1),s=n&&n(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s&&s.d(t),t&&_(e)}}}function pe(i){let e,l,n=i[11].regex+"",s,t;return{c(){e=k("label"),l=k("tt"),s=S(n),this.h()},l(a){e=y(a,"LABEL",{class:!0,for:!0});var u=I(e);l=y(u,"TT",{});var v=I(l);s=q(v,n),v.forEach(_),u.forEach(_),this.h()},h(){m(e,"class","btn btn-outline-dark"),m(e,"for",t=i[10]+"-"+i[11].id)},m(a,u){w(a,e,u),p(e,l),p(l,s)},p(a,u){u&1&&n!==(n=a[11].regex+"")&&A(s,n),u&1&&t!==(t=a[10]+"-"+a[11].id)&&m(e,"for",t)},d(a){a&&_(e)}}}function ge(i){let e,l,n=i[11].regex+"",s,t;return{c(){e=k("label"),l=k("tt"),s=S(n),this.h()},l(a){e=y(a,"LABEL",{class:!0,for:!0});var u=I(e);l=y(u,"TT",{});var v=I(l);s=q(v,n),v.forEach(_),u.forEach(_),this.h()},h(){m(e,"class","btn btn-outline-success"),m(e,"for",t=i[10]+"-"+i[11].id)},m(a,u){w(a,e,u),p(e,l),p(l,s)},p(a,u){u&1&&n!==(n=a[11].regex+"")&&A(s,n),u&1&&t!==(t=a[10]+"-"+a[11].id)&&m(e,"for",t)},d(a){a&&_(e)}}}function X(i){let e,l,n,s,t,a,u;i[4][0][i[10]]=[];function v(){i[3].call(e,i[8])}function E(h,f){return h[11].sat?ge:pe}let T=E(i),r=T(i);return{c(){e=k("input"),s=L(),r.c(),t=P(),this.h()},l(h){e=y(h,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),s=V(h),r.l(h),t=P(),this.h()},h(){m(e,"type","radio"),m(e,"class","btn-check"),m(e,"name","utterance-type-"+i[10]),e.__value=l=i[11].id,e.value=e.__value,m(e,"id",n=i[10]+"-"+i[11].id),m(e,"autocomplete","off"),i[4][0][i[10]].push(e)},m(h,f){w(h,e,f),e.checked=e.__value===i[1][i[8].id],w(h,s,f),r.m(h,f),w(h,t,f),a||(u=se(e,"change",v),a=!0)},p(h,f){i=h,f&1&&l!==(l=i[11].id)&&(e.__value=l,e.value=e.__value),f&1&&n!==(n=i[10]+"-"+i[11].id)&&m(e,"id",n),f&3&&(e.checked=e.__value===i[1][i[8].id]),T===(T=E(i))&&r?r.p(i,f):(r.d(1),r=T(i),r&&(r.c(),r.m(t.parentNode,t)))},d(h){h&&_(e),i[4][0][i[10]].splice(i[4][0][i[10]].indexOf(e),1),h&&_(s),r.d(h),h&&_(t),a=!1,u()}}}function F(i){let e,l,n,s=i[10]+1+"",t,a,u,v,E,T=i[8].examples,r=[];for(let o=0;o<T.length;o+=1)r[o]=K(J(i,T,o));let h=i[8].options,f=[];for(let o=0;o<h.length;o+=1)f[o]=X(G(i,h,o));return{c(){e=k("div"),l=k("h2"),n=S("Question "),t=S(s),a=L(),u=k("div");for(let o=0;o<r.length;o+=1)r[o].c();v=L(),E=k("div");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=y(o,"DIV",{class:!0});var d=I(e);l=y(d,"H2",{});var c=I(l);n=q(c,"Question "),t=q(c,s),c.forEach(_),d.forEach(_),a=V(o),u=y(o,"DIV",{class:!0});var N=I(u);for(let B=0;B<r.length;B+=1)r[B].l(N);N.forEach(_),v=V(o),E=y(o,"DIV",{class:!0});var j=I(E);for(let B=0;B<f.length;B+=1)f[B].l(j);j.forEach(_),this.h()},h(){m(e,"class","col-lg-10 pt-md-5 pb-md-1"),m(u,"class","list-group col-lg-10 py-md-3"),m(E,"class","btn-group-vertical col-lg-10 py-md-3")},m(o,d){w(o,e,d),p(e,l),p(l,n),p(l,t),w(o,a,d),w(o,u,d);for(let c=0;c<r.length;c+=1)r[c].m(u,null);w(o,v,d),w(o,E,d);for(let c=0;c<f.length;c+=1)f[c].m(E,null)},p(o,d){if(d&1){T=o[8].examples;let c;for(c=0;c<T.length;c+=1){const N=J(o,T,c);r[c]?r[c].p(N,d):(r[c]=K(N),r[c].c(),r[c].m(u,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=T.length}if(d&3){h=o[8].options;let c;for(c=0;c<h.length;c+=1){const N=G(o,h,c);f[c]?f[c].p(N,d):(f[c]=X(N),f[c].c(),f[c].m(E,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=h.length}},d(o){o&&_(e),o&&_(a),o&&_(u),M(r,o),o&&_(v),o&&_(E),M(f,o)}}}function be(i){let e,l,n,s,t,a,u,v,E,T,r,h,f,o,d,c,N,j,B,D=i[0],$=[];for(let b=0;b<D.length;b+=1)$[b]=F(Y(i,D,b));return c=new he({}),{c(){e=k("div"),l=k("div"),n=S("In each of the following questions, you are given a list of examples of strings. The strings in "),s=k("button"),t=S("blue"),a=S(" are positive examples and those in "),u=k("button"),v=S("red"),E=S(" are negative examples. In each case, you are also given options of regular expressions. You need to determine which regular expression matches the given strings."),T=L();for(let b=0;b<$.length;b+=1)$[b].c();r=L(),h=k("div"),f=k("button"),o=S("Submit"),d=L(),ee(c.$$.fragment),this.h()},l(b){e=y(b,"DIV",{class:!0});var O=I(e);l=y(O,"DIV",{class:!0});var g=I(l);n=q(g,"In each of the following questions, you are given a list of examples of strings. The strings in "),s=y(g,"BUTTON",{class:!0});var U=I(s);t=q(U,"blue"),U.forEach(_),a=q(g," are positive examples and those in "),u=y(g,"BUTTON",{class:!0});var Q=I(u);v=q(Q,"red"),Q.forEach(_),E=q(g," are negative examples. In each case, you are also given options of regular expressions. You need to determine which regular expression matches the given strings."),g.forEach(_),T=V(O);for(let H=0;H<$.length;H+=1)$[H].l(O);r=V(O),h=y(O,"DIV",{class:!0});var z=I(h);f=y(z,"BUTTON",{class:!0});var C=I(f);o=q(C,"Submit"),C.forEach(_),z.forEach(_),d=V(O),te(c.$$.fragment,O),O.forEach(_),this.h()},h(){m(s,"class","btn btn-mini btn-primary"),m(u,"class","btn btn-mini btn-danger"),m(l,"class","col-lg-10 pt-md-1 pb-md-1"),m(f,"class","btn btn-success btn-lg float-end"),m(h,"class","col-lg-10 py-md-5"),m(e,"class","col-lg-6 mx-auto p-3 pt-md-5 pb-md-3")},m(b,O){w(b,e,O),p(e,l),p(l,n),p(l,s),p(s,t),p(l,a),p(l,u),p(u,v),p(l,E),p(e,T);for(let g=0;g<$.length;g+=1)$[g].m(e,null);p(e,r),p(e,h),p(h,f),p(f,o),p(e,d),le(c,e,null),N=!0,j||(B=se(f,"click",i[2]),j=!0)},p(b,[O]){if(O&3){D=b[0];let g;for(g=0;g<D.length;g+=1){const U=Y(b,D,g);$[g]?$[g].p(U,O):($[g]=F(U),$[g].c(),$[g].m(e,r))}for(;g<$.length;g+=1)$[g].d(1);$.length=D.length}},i(b){N||(ne(c.$$.fragment,b),N=!0)},o(b){ie(c.$$.fragment,b),N=!1},d(b){b&&_(e),M($,b),oe(c),j=!1,B()}}}let ve=0,ke=5;function ye(i,e,l){let n;ae(i,fe,r=>l(6,n=r));let s=[];async function t(){n.length==0&&R("/pragmatic-regex-web/annotate/login"),await fetch(`https://try-regex-default-rtdb.firebaseio.com/collect-test-verify-sampled-options/${ve}.json`).then(r=>r.json()).then(r=>{let h=[...r];h.sort((o,d)=>o.n_verifications>d.verifications?1:o.id<d.id?0:Math.random()>.5?1:0);let f=[];for(let o=0;o<ke;o+=1){f=[...f,h[o]];for(let d=0;d<r.length;d+=1)r[d].id==h[o].id&&(s=[...s,d])}console.log(f),l(0,a=f),l(1,u=Object.fromEntries(Object.entries(a).map(([o,d],c)=>[d.id,null]))),console.log(u)}).catch(r=>(console.log(r),[]))}let a=[],u=[];async function v(){for(let r in u)if(u[r]===null){_e.push("Please answer all the questions to proceed.",{theme:{"--toastBarHeight":0,"--toastBackground":"red"}});return}await fetch(`https://try-regex-default-rtdb.firebaseio.com/collect-test/${n}.json`,{method:"PUT",body:JSON.stringify(u)}),R("/pragmatic-regex-web/annotate/examples")}re(t);const E=[[]];function T(r){u[r.id]=this.__value,l(1,u)}return[a,u,v,T,E]}class Ee extends W{constructor(e){super(),Z(this,e,ye,be,x,{})}}function Te(i){let e,l,n,s;return n=new Ee({}),{c(){e=k("meta"),l=L(),ee(n.$$.fragment),this.h()},l(t){const a=ce("svelte-tap1z9",document.head);e=y(a,"META",{name:!0,content:!0}),a.forEach(_),l=V(t),te(n.$$.fragment,t),this.h()},h(){document.title="Regex from Examples",m(e,"name","description"),m(e,"content","Regular expressions from examples")},m(t,a){p(document.head,e),w(t,l,a),le(n,t,a),s=!0},p:ue,i(t){s||(ne(n.$$.fragment,t),s=!0)},o(t){ie(n.$$.fragment,t),s=!1},d(t){_(e),t&&_(l),oe(n,t)}}}class Oe extends W{constructor(e){super(),Z(this,e,null,Te,x,{})}}export{Oe as default};
