import{S as W,i as Z,s as C,k,q as S,a as j,w as x,l as E,m as y,r as M,h,c as V,x as ee,n as m,b as L,G as p,y as te,u as Y,f as le,t as se,z as oe,H as re,o as ae,I as ie,U as Q,e as P,Q as ne,B as ce}from"../../../../chunks/index-0e9e634d.js";import{u as ue,d as fe}from"../../../../chunks/store-cf389518.js";import{g as A}from"../../../../chunks/navigation-c15f7844.js";import{S as he}from"../../../../chunks/SvelteToast-ff19346a.js";import{t as pe}from"../../../../chunks/stores-3e1ed05a.js";import{d as U}from"../../../../chunks/singletons-69107a7c.js";function F(n,e,o){const t=n.slice();return t[12]=e[o],t}function G(n,e,o){const t=n.slice();return t[15]=e[o],t}function de(n){let e,o,t=n[15].string+"",i,l,s,c,g,b,d,r;return{c(){e=k("div"),o=k("li"),i=S(t),l=j(),s=k("li"),c=k("i"),g=j(),b=k("li"),d=k("i"),r=j(),this.h()},l(_){e=E(_,"DIV",{class:!0});var f=y(e);o=E(f,"LI",{class:!0});var a=y(o);i=M(a,t),a.forEach(h),l=V(f),s=E(f,"LI",{class:!0});var v=y(s);c=E(v,"I",{class:!0}),y(c).forEach(h),v.forEach(h),g=V(f),b=E(f,"LI",{class:!0});var u=y(b);d=E(u,"I",{class:!0}),y(d).forEach(h),u.forEach(h),r=V(f),f.forEach(h),this.h()},h(){m(o,"class","list-group-item list-group-item flex-fill"),m(c,"class","fa-solid fa-plus"),m(s,"class","list-group-item list-group-item"),m(d,"class","fa-solid fa-minus"),m(b,"class","list-group-item list-group-item-danger"),m(e,"class","list-group list-group-horizontal py-md-1")},m(_,f){L(_,e,f),p(e,o),p(o,i),p(e,l),p(e,s),p(s,c),p(e,g),p(e,b),p(b,d),p(e,r)},p(_,f){f&8&&t!==(t=_[15].string+"")&&Y(i,t)},d(_){_&&h(e)}}}function _e(n){let e,o,t=n[15].string+"",i,l,s,c,g,b,d,r;return{c(){e=k("div"),o=k("li"),i=S(t),l=j(),s=k("li"),c=k("i"),g=j(),b=k("li"),d=k("i"),r=j(),this.h()},l(_){e=E(_,"DIV",{class:!0});var f=y(e);o=E(f,"LI",{class:!0});var a=y(o);i=M(a,t),a.forEach(h),l=V(f),s=E(f,"LI",{class:!0});var v=y(s);c=E(v,"I",{class:!0}),y(c).forEach(h),v.forEach(h),g=V(f),b=E(f,"LI",{class:!0});var u=y(b);d=E(u,"I",{class:!0}),y(d).forEach(h),u.forEach(h),r=V(f),f.forEach(h),this.h()},h(){m(o,"class","list-group-item list-group-item flex-fill"),m(c,"class","fa-solid fa-plus"),m(s,"class","list-group-item list-group-item-primary"),m(d,"class","fa-solid fa-minus"),m(b,"class","list-group-item list-group-item"),m(e,"class","list-group list-group-horizontal py-md-1")},m(_,f){L(_,e,f),p(e,o),p(o,i),p(e,l),p(e,s),p(s,c),p(e,g),p(e,b),p(b,d),p(e,r)},p(_,f){f&8&&t!==(t=_[15].string+"")&&Y(i,t)},d(_){_&&h(e)}}}function X(n){let e;function o(l,s){if(l[15].label=="+")return _e;if(l[15].label=="-")return de}let t=o(n),i=t&&t(n);return{c(){i&&i.c(),e=P()},l(l){i&&i.l(l),e=P()},m(l,s){i&&i.m(l,s),L(l,e,s)},p(l,s){t===(t=o(l))&&i?i.p(l,s):(i&&i.d(1),i=t&&t(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){i&&i.d(l),l&&h(e)}}}function me(n){let e,o,t=n[12].regex+"",i,l;return{c(){e=k("label"),o=k("tt"),i=S(t),this.h()},l(s){e=E(s,"LABEL",{class:!0,for:!0});var c=y(e);o=E(c,"TT",{});var g=y(o);i=M(g,t),g.forEach(h),c.forEach(h),this.h()},h(){m(e,"class","btn btn-outline-dark"),m(e,"for",l=n[12].id)},m(s,c){L(s,e,c),p(e,o),p(o,i)},p(s,c){c&8&&t!==(t=s[12].regex+"")&&Y(i,t),c&8&&l!==(l=s[12].id)&&m(e,"for",l)},d(s){s&&h(e)}}}function ve(n){let e,o,t=n[12].regex+"",i,l;return{c(){e=k("label"),o=k("tt"),i=S(t),this.h()},l(s){e=E(s,"LABEL",{class:!0,for:!0});var c=y(e);o=E(c,"TT",{});var g=y(o);i=M(g,t),g.forEach(h),c.forEach(h),this.h()},h(){m(e,"class","btn btn-outline-success"),m(e,"for",l=n[12].id)},m(s,c){L(s,e,c),p(e,o),p(o,i)},p(s,c){c&8&&t!==(t=s[12].regex+"")&&Y(i,t),c&8&&l!==(l=s[12].id)&&m(e,"for",l)},d(s){s&&h(e)}}}function ge(n){let e,o,t=n[12].regex+"",i,l;return{c(){e=k("label"),o=k("tt"),i=S(t),this.h()},l(s){e=E(s,"LABEL",{class:!0,for:!0});var c=y(e);o=E(c,"TT",{});var g=y(o);i=M(g,t),g.forEach(h),c.forEach(h),this.h()},h(){m(e,"class","btn btn-outline-primary"),m(e,"for",l=n[12].id)},m(s,c){L(s,e,c),p(e,o),p(o,i)},p(s,c){c&8&&t!==(t=s[12].regex+"")&&Y(i,t),c&8&&l!==(l=s[12].id)&&m(e,"for",l)},d(s){s&&h(e)}}}function J(n){let e,o,t,i,l,s,c;function g(r,_){return r[12].ground_truth?ge:r[12].sat?ve:me}let b=g(n),d=b(n);return{c(){e=k("input"),i=j(),d.c(),l=P(),this.h()},l(r){e=E(r,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),i=V(r),d.l(r),l=P(),this.h()},h(){m(e,"type","radio"),m(e,"class","btn-check"),m(e,"name","utterance-type"),e.__value=o=n[12].id,e.value=e.__value,m(e,"id",t=n[12].id),m(e,"autocomplete","off"),n[7][0].push(e)},m(r,_){L(r,e,_),e.checked=e.__value===n[4],L(r,i,_),d.m(r,_),L(r,l,_),s||(c=ie(e,"change",n[6]),s=!0)},p(r,_){_&8&&o!==(o=r[12].id)&&(e.__value=o,e.value=e.__value),_&8&&t!==(t=r[12].id)&&m(e,"id",t),_&16&&(e.checked=e.__value===r[4]),b===(b=g(r))&&d?d.p(r,_):(d.d(1),d=b(r),d&&(d.c(),d.m(l.parentNode,l)))},d(r){r&&h(e),n[7][0].splice(n[7][0].indexOf(e),1),r&&h(i),d.d(r),r&&h(l),s=!1,c()}}}function K(n){let e,o,t,i,l,s,c,g,b,d=n[3].examples,r=[];for(let a=0;a<d.length;a+=1)r[a]=X(G(n,d,a));let _=n[3].options,f=[];for(let a=0;a<_.length;a+=1)f[a]=J(F(n,_,a));return{c(){e=k("div");for(let a=0;a<r.length;a+=1)r[a].c();o=j(),t=k("div");for(let a=0;a<f.length;a+=1)f[a].c();i=j(),l=k("div"),s=k("button"),c=S("Submit"),this.h()},l(a){e=E(a,"DIV",{class:!0});var v=y(e);for(let w=0;w<r.length;w+=1)r[w].l(v);v.forEach(h),o=V(a),t=E(a,"DIV",{class:!0});var u=y(t);for(let w=0;w<f.length;w+=1)f[w].l(u);u.forEach(h),i=V(a),l=E(a,"DIV",{class:!0});var $=y(l);s=E($,"BUTTON",{class:!0});var I=y(s);c=M(I,"Submit"),I.forEach(h),$.forEach(h),this.h()},h(){m(e,"class","col-lg-10 py-md-3"),m(t,"class","btn-group-vertical col-lg-10 py-md-3"),m(s,"class","btn btn-success btn-lg float-end"),m(l,"class","col-lg-10 py-md-5")},m(a,v){L(a,e,v);for(let u=0;u<r.length;u+=1)r[u].m(e,null);L(a,o,v),L(a,t,v);for(let u=0;u<f.length;u+=1)f[u].m(t,null);L(a,i,v),L(a,l,v),p(l,s),p(s,c),g||(b=ie(s,"click",n[5]),g=!0)},p(a,v){if(v&8){d=a[3].examples;let u;for(u=0;u<d.length;u+=1){const $=G(a,d,u);r[u]?r[u].p($,v):(r[u]=X($),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=d.length}if(v&24){_=a[3].options;let u;for(u=0;u<_.length;u+=1){const $=F(a,_,u);f[u]?f[u].p($,v):(f[u]=J($),f[u].c(),f[u].m(t,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=_.length}},d(a){a&&h(e),Q(r,a),a&&h(o),a&&h(t),Q(f,a),a&&h(i),a&&h(l),g=!1,b()}}}function be(n){let e,o,t,i,l,s,c,g,b,d,r,_,f,a,v,u,$=n[2],I,w,N,D=K(n);return w=new he({}),{c(){e=k("div"),o=k("div"),t=k("h4"),i=S("Completed "),l=S(n[0]),s=S(" of "),c=S(n[1]),g=S(" tasks in this phase"),b=j(),d=k("div"),r=k("h2"),_=S("You are now the guesser"),f=j(),a=k("div"),v=S("You are given a list of examples provided by a describer. You are also given options of regular expressions. You need to choose which regular expression best fits the given set of examples. If there are multiple correct regular expressions, choose the one you think the describer was most likely trying to communicate about."),u=j(),D.c(),I=j(),x(w.$$.fragment),this.h()},l(O){e=E(O,"DIV",{class:!0});var T=y(e);o=E(T,"DIV",{class:!0});var R=y(o);t=E(R,"H4",{});var B=y(t);i=M(B,"Completed "),l=M(B,n[0]),s=M(B," of "),c=M(B,n[1]),g=M(B," tasks in this phase"),B.forEach(h),R.forEach(h),b=V(T),d=E(T,"DIV",{class:!0});var q=y(d);r=E(q,"H2",{});var z=y(r);_=M(z,"You are now the guesser"),z.forEach(h),q.forEach(h),f=V(T),a=E(T,"DIV",{class:!0});var H=y(a);v=M(H,"You are given a list of examples provided by a describer. You are also given options of regular expressions. You need to choose which regular expression best fits the given set of examples. If there are multiple correct regular expressions, choose the one you think the describer was most likely trying to communicate about."),H.forEach(h),u=V(T),D.l(T),I=V(T),ee(w.$$.fragment,T),T.forEach(h),this.h()},h(){m(o,"class","col-lg-10 pt-md-1 pb-md-1 text-center"),m(d,"class","col-lg-10 pt-md-1 pb-md-1 text-center"),m(a,"class","col-lg-10 pt-md-1 pb-md-1"),m(e,"class","col-lg-6 mx-auto p-3 pt-md-5 pb-md-3")},m(O,T){L(O,e,T),p(e,o),p(o,t),p(t,i),p(t,l),p(t,s),p(t,c),p(t,g),p(e,b),p(e,d),p(d,r),p(r,_),p(e,f),p(e,a),p(a,v),p(e,u),D.m(e,null),p(e,I),te(w,e,null),N=!0},p(O,[T]){(!N||T&1)&&Y(l,O[0]),(!N||T&2)&&Y(c,O[1]),T&4&&C($,$=O[2])?(D.d(1),D=K(O),D.c(),D.m(e,I)):D.p(O,T)},i(O){N||(le(w.$$.fragment,O),N=!0)},o(O){se(w.$$.fragment,O),N=!1},d(O){O&&h(e),D.d(O),oe(w)}}}function ke(n,e){return n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n)+n)}function Ee(n,e,o){let t;re(n,ue,v=>o(10,t=v));let i=0,l=2,s=2,c=0;async function g(){t.length==0&&A(`${U}/annotate/login`);let v=await fetch(`${fe}/pilot-options.json`).then(D=>D.json()).catch(D=>(console.log(D),[])),u=new Object,$=new Object;for(var I in v)v[I].hasOwnProperty("verifications")?(v[I].verifications.hasOwnProperty(t)&&(u[I]=v[I]),Object.keys(v[I].verifications).length<l&&($[I]=v[I])):$[I]=v[I];Object.keys(u).length>=s&&A(`${U}/annotate/examples`),Object.keys($).length==0&&A(`${U}/annotate/examples`),o(0,i=Object.keys(u).length);let w=ke(0,Object.keys($).length);console.log(w);let N=0;for(var I in $){if(N==w){b=I,o(3,d=$[I]),o(4,r=null),console.log(I,$[I]),console.log(b,d);return}N+=1}}let b="",d={examples:[],options:[]},r=null;async function _(){if(r===null){pe.push("Please answer to proceed",{theme:{"--toastBarHeight":0,"--toastBackground":"red"}});return}console.log(b),await fetch(`https://try-regex-default-rtdb.firebaseio.com/pilot-options/${b}/verifications/${t}.json`,{method:"PUT",body:r}),o(2,c+=1),g()}ae(g);const f=[[]];function a(){r=this.__value,o(4,r)}return[i,s,c,d,r,_,a,f]}class ye extends W{constructor(e){super(),Z(this,e,Ee,be,C,{})}}function Ie(n){let e,o,t,i;return t=new ye({}),{c(){e=k("meta"),o=j(),x(t.$$.fragment),this.h()},l(l){const s=ne("svelte-tap1z9",document.head);e=E(s,"META",{name:!0,content:!0}),s.forEach(h),o=V(l),ee(t.$$.fragment,l),this.h()},h(){document.title="Regex from Examples",m(e,"name","description"),m(e,"content","Regular expressions from examples")},m(l,s){p(document.head,e),L(l,o,s),te(t,l,s),i=!0},p:ce,i(l){i||(le(t.$$.fragment,l),i=!0)},o(l){se(t.$$.fragment,l),i=!1},d(l){h(e),l&&h(o),oe(t,l)}}}class Ve extends W{constructor(e){super(),Z(this,e,null,Ie,C,{})}}export{Ve as default};
